{"version":3,"sources":["components/news/news.module.css","components/settings/settings.module.css","assets/images/preloader.svg","assets/images/react-logo.png","components/navbar/navbar.module.css","components/messages/messages.module.css","components/users/users.module.css","serviceWorker.js","components/navbar/navFriends/navFriends.jsx","components/navbar/navbar.jsx","components/navbar/navFriends/navFriendsContainer.jsx","components/news/news.jsx","components/music/music.jsx","components/settings/settings.jsx","components/friends/friends.jsx","redux/messagesReducer.js","components/messages/dialogItem/dialogItem.jsx","components/messages/message/messageItem.jsx","components/common/formsControls/formsControls.jsx","utilities/validators/validators.js","components/messages/messages.jsx","components/HOC/withAuthRedirect.jsx","components/messages/messagesContainer.jsx","components/common/paginator/paginator.jsx","components/common/preloader/preloader.jsx","components/users/users.jsx","api/api.js","redux/usersReducer.js","redux/usersSelectors.js","components/users/usersContainer.jsx","redux/profileReducer.js","components/profile/myPosts/post/post.jsx","components/profile/myPosts/myPosts.jsx","components/profile/myPosts/myPostsContainer.jsx","components/profile/profileDescription/profileStatusWithHooks.jsx","components/profile/profileDescription/profileDescription.jsx","components/profile/profileDescription/profileDataForm.jsx","components/profile/profile.jsx","components/profile/profileContainer.jsx","components/header/header.jsx","redux/authReducer.js","components/header/headerContainer.jsx","components/login/loginForm.jsx","components/login/loginContainer.jsx","redux/appReducer.js","redux/navbarReducer.js","redux/reduxStore.js","App.js","index.js","components/profile/myPosts/myPosts.module.css","components/login/login.module.css","components/common/paginator/paginator.module.css","components/common/formsControls/formsControls.module.css","assets/images/user.png","components/navbar/navFriends/navFriends.module.css","components/profile/profile.module.css","components/header/header.module.css"],"names":["module","exports","Boolean","window","location","hostname","match","NavFriends","props","friendsElements","friends","map","f","className","classes","profile","key","id","imageItem","src","ava","name","friendsProfiles","Navbar","connect","state","navbar","nav","itemBlock","item","exact","to","activeClassName","activeLink","News","newsPage","Music","Settings","settingsPage","Friends","initialState","dialogs","messages","message","messagesReducer","action","type","newMessage","newMessageBody","filter","m","messageID","DialogItem","dialog","MessageItem","Textarea","hasError","meta","error","touched","input","Input","required","value","maxLengthCreator","maxLength","length","maxLength30","AddReduxMessageForm","reduxForm","form","onSubmit","handleSubmit","Field","component","validate","placeholder","textarea","sendButton","Messages","dialogsElements","messagesPage","d","messageElements","messageItem","dialogItems","values","sendMessage","mapStateForRedirectToProps","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","React","compose","dispatch","sendMessageCreator","Paginator","pagesCount","Math","ceil","totalItemsCount","pageSize","pages","i","push","useState","portionNumber","setPortionNumber","portionCount","leftPortionPageNumber","rightPortionPageNumber","paginator","prevBtn","paginButtons","onClick","viewBox","p","cn","selectedPage","currentPage","pageNumber","e","onPageChanged","nextBtn","Preloader","preloaderImage","Users","isFetching","users","u","userProfileContainer","photos","small","userPhoto","description","userInfo","status","followUnfollowButton","followed","disabled","followButtonDisabled","some","unfollow","unfollowButton","unfollowNotOnHover","unfollowOnHover","follow","followButton","instance","Axios","create","withCredentials","baseURL","headers","usersAPI","getUsers","get","then","response","data","userID","post","delete","getProfile","console","warn","profileAPI","setStatus","updateStatus","put","savePhoto","photoFile","formData","FormData","append","saveProfile","authAPI","email","password","rememberMe","captcha","securityAPI","totalUsersCount","followSuccess","unfollowSuccess","setUsers","toggleIsFetching","disableFollowButton","isDisabled","followUnfollowFlow","apiMethod","actionCreator","a","resultCode","usersReducer","count","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowButtonDisabled","getIsAuth","UsersContainer","setCurrentPage","requestUsers","bind","page","items","totalCount","posts","likesCount","getUserProfile","profileReducer","newPost","newPostText","postID","Post","textAndAva","profilePhoto","likesCounter","likes","AddPostReduxForm","button","MyPosts","postsElement","reverse","postsBlock","addPost","MyPostsContainer","profilePage","addPostActionCreator","ProfileStatusWithHooks","editMode","setEditMode","isOwner","onDoubleClick","onChange","currentTarget","autoFocus","onBlur","Contacts","contactTitle","contactValue","ProfileDescription","contacts","hideContacts","fullName","descriptionBlock","lookingForAJob","lookingForAJobDescription","aboutMe","collapsible","showContacts","content","Object","keys","ProfileDataReduxForm","onCancel","profileClasses","editProfileForm","editProfile","editName","editContacts","formsClasses","loginFormError","saveButton","cancelButton","Profile","large","for","fileUpload","target","files","profileInfo","initialValues","activateEditMode","editButton","ProfileContainer","params","userId","authorisedUserID","getStatus","refreshProfile","prevProps","prevState","snapshot","file","getState","stopSubmit","_error","Promise","reject","withRouter","Header","header","logo","loginBlock","login","logout","captchaUrl","setAuthUserData","payload","setCaptchaUrl","getAuthUserData","getCaptcha","url","authReducer","HeaderContainer","LoginReduxForm","loginClasses","loginForm","loginName","checkbox","loginDetails","initialised","appReducer","navbarReducer","reducers","combineReducers","formReducer","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunk","App","initialiseApp","path","render","AppContainer","promise","all","SocialNetworkApp","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch"],"mappings":"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","file":"static/js/main.5226e6d3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"newsPage\":\"news_newsPage__aiUDg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"settingsPage\":\"settings_settingsPage__19--1\"};","module.exports = __webpack_public_path__ + \"static/media/preloader.c3d168f8.svg\";","module.exports = __webpack_public_path__ + \"static/media/react-logo.d5e08cd1.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"navbar_nav__3IIWD\",\"item\":\"navbar_item__2CJlB\",\"activeLink\":\"navbar_activeLink__2pLGi\",\"friends\":\"navbar_friends__1THy4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"messages_dialogs__WDDgT\",\"dialogItems\":\"messages_dialogItems__1n-_D\",\"messages\":\"messages_messages__34oTo\",\"textarea\":\"messages_textarea__2ja7x\",\"sendButton\":\"messages_sendButton__2DzPb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__2Bfxq\",\"name\":\"users_name__Or0kG\",\"description\":\"users_description__oKCW3\",\"followUnfollowButton\":\"users_followUnfollowButton__makJj\",\"followButton\":\"users_followButton__FfuXv\",\"unfollowButton\":\"users_unfollowButton__3DtIf\",\"unfollowOnHover\":\"users_unfollowOnHover__1xy7b\",\"unfollowNotOnHover\":\"users_unfollowNotOnHover__3IlWc\",\"userInfo\":\"users_userInfo__FCKvA\",\"userProfileContainer\":\"users_userProfileContainer__RtX_7\",\"followPreloader\":\"users_followPreloader__3vSPE\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport classes from './navFriends.module.css';\n\n\nconst NavFriends = (props) => {\n\n    let friendsElements = props.friends.map(\n        f => {\n            return (\n                <div className={classes.profile} key={f.id}>\n                    <div>\n                        <img className={classes.imageItem} src={f.ava} />\n                    </div>\n                    <div>{f.name}</div>\n                </div>\n            )\n        }\n    );\n    return (\n        <div className={classes.friendsProfiles}>\n            {friendsElements}\n        </div>\n    )\n}\n\nexport default NavFriends;\n\n\n// const NavFriends = () => {\n\n//     return (\n//         <StoreContext.Consumer>\n//             {(store) => {\n//                 let friendsElements = store.getState().navbar.friends.map(\n//                     f => {\n//                         return (\n//                             <div className={classes.profile}>\n//                                 <img className={classes.imageItem} src={f.ava} />\n//                                 <div>{f.name}</div>\n//                             </div>\n//                         )\n//                     }\n//                 )\n//                 return (\n//                     <div className={classes.friendsProfiles}>\n//                       {friendsElements}\n//                     </div>   \n//                 )\n//             }}\n//         </StoreContext.Consumer>\n//     )\n// }\n\n// export default NavFriends;\n","import React from 'react';\nimport classes from './navbar.module.css';\nimport { NavLink } from 'react-router-dom';\nimport NavFriendsContainer from './navFriends/navFriendsContainer';\n\nconst Navbar = () => {\n  return (\n    <nav className={classes.nav}>\n      <div className={classes.itemBlock}>\n        <div className={classes.item}>\n          <NavLink exact to='/profile' activeClassName={classes.activeLink}>Profile</NavLink>\n        </div>\n        <div className={classes.item}>\n          <NavLink to='/messages' activeClassName={classes.activeLink}>Messages</NavLink>\n        </div>\n        <div className={classes.item}>\n          <NavLink to='/users' activeClassName={classes.activeLink}>Users</NavLink>\n        </div>\n        <div className={classes.item}>\n          <NavLink to='news' activeClassName={classes.activeLink}>News</NavLink>\n        </div>\n        {/* <div className={classes.item}>\n          <NavLink to='/music' activeClassName={classes.activeLink}>Music</NavLink>\n        </div> */}\n        <div className={classes.item}>\n          <NavLink to='settings' activeClassName={classes.activeLink}>Settings</NavLink>\n        </div>\n        {/* <div className={`${classes.item} ${classes.friends}`}>\n          <p>\n            <NavLink to='friends' activeClassName={classes.activeLink}>Friends</NavLink>\n           <NavFriendsContainer />\n          </p>\n        </div> */}\n      </div>\n    </nav>\n  );\n}\n\nexport default Navbar;","import { connect } from 'react-redux';\nimport NavFriends from './navFriends';\n\nlet mapStateToProps = (state) => {\n    return {\n        friends: state.navbar.friends\n    }\n}\nconst NavFriendsContainer = connect(mapStateToProps) (NavFriends);\n\nexport default NavFriendsContainer;\n\n","import React from 'react';\nimport classes from './news.module.css';\n\nconst News = () => {\n return (\n    <div className={classes.newsPage}>\n        News page is coming soon\n    </div>\n );\n}\n\nexport default News","import React from 'react';\n\nconst Music = () => {\n    return (\n        <div>\n            Music\n        </div>\n    );\n}\n\nexport default Music","import React from 'react';\nimport classes from './settings.module.css';\n\nconst Settings = () => {\n    return (\n        <div className={classes.settingsPage}>\n            Settings page is coming soon\n        </div>\n    );\n}\n\nexport default Settings","import React from 'react';\nimport classes from './friends.module.css';\n\nconst Friends = () => {\n    return (\n        <div>\n            <div>\n                Friends\n            </div>\n        </div>\n    );\n}\n\nexport default Friends","import { actionTypes } from 'redux-form';\n\nconst SEND_MESSAGE = 'SEND_MESSAGE';\nconst DELETE_MESSAGE = 'DELETE_MESSAGE';\n\nlet initialState = {\n    dialogs: [\n        { id: '1', name: 'Alexey' }\n        // { id: '2', name: 'Kate' },\n        // { id: '3', name: 'Boris' }\n    ],\n    messages: [\n        { id: '1', message: 'Hey, welcome to the messages page!' },\n        { id: '2', message: 'A lot of new features are coming here soon. At the moment you can only send your message. New messages get erased after a page reload, so you can send them as many as you want.' },\n        { id: '3', message: 'You can`t send an empty message or a message exceeding 30 characters.' },\n        { id: '4', message: 'Check the users page out! Look at the profiles of other users. When you follow or unfollow different users, it is saved on server, so you always keep a track of the users you follow.' }\n    ]\n};\n\n\nconst messagesReducer = (state = initialState, action) => {\n\n    switch (action.type) {\n        case SEND_MESSAGE: \n            let newMessage = action.newMessageBody;    \n            return {\n                ...state,\n                messages: [...state.messages, {id: 4, message: newMessage}],\n            }\n        case DELETE_MESSAGE:   \n            return { ...state, messages: state.messages.filter(m => m.id != action.messageID) }\n        default:\n            return state; \n    }\n}\n\n\n\nexport const sendMessageCreator = (newMessageBody) => ({ type: SEND_MESSAGE, newMessageBody })\nexport const deleteMessage = (messageID) => ({ type: DELETE_MESSAGE, messageID })\n\n\nexport default messagesReducer;","import React from 'react';\nimport classes from './../messages.module.css';\nimport { NavLink } from 'react-router-dom';\n\nconst DialogItem = (props) => {\n\n    return (\n        <div className={classes.dialog}>\n            <NavLink to={'/profile'}>{props.name}</NavLink>\n        </div>\n    );\n}\n\nexport default DialogItem;\n\n","import React from 'react';\nimport classes from './../messages.module.css';\n\n\nconst MessageItem = (props) => {\n    return <div className={classes.message}>{props.message}</div>\n}\n\nexport default MessageItem;\n\n","import React from 'react';\nimport classes from './formsControls.module.css';\n\nexport const Textarea = (props) => {\n    let hasError = props.meta.error && props.meta.touched;\n    return (\n        <div className={hasError && classes.error}>\n            <textarea {...props} {...props.input}></textarea>\n            <div>\n            {hasError && <span>{props.meta.error}</span>}    \n            </div>\n        </div>\n    )\n}\nexport const Input = (props) => {\n    let hasError = props.meta.error && props.meta.touched;\n    return (\n        <div className={hasError && classes.error}>\n            <input {...props} {...props.input} />\n            <div>\n            {hasError && <span>{props.meta.error}</span>}    \n            </div>\n        </div>\n    )\n}\n\n","\nexport const required = value => {\n    if (value) return undefined;\n    return 'Please enter at least 1 character'\n}\n\nexport const maxLengthCreator = (maxLength) => (value) => {\n    if (value.length > maxLength) return `Maximum length of ${maxLength} characters is exceeded`;\n    return undefined;\n}","import React from 'react';\nimport classes from './messages.module.css';\nimport DialogItem from './dialogItem/dialogItem';\nimport MessageItem from './message/messageItem';\nimport { Field, reduxForm } from 'redux-form';\nimport { Textarea } from '../common/formsControls/formsControls';\nimport { required, maxLengthCreator } from '../../utilities/validators/validators';\n\n\nlet maxLength30 = maxLengthCreator(30);\n\nconst Messages = (props) => {\n\n    let dialogsElements = props.messagesPage.dialogs.map(d => <DialogItem name={d.name} id={d.id} key={d.id} />);\n    let messageElements = props.messagesPage.messages.map(m => <p><MessageItem className={classes.messageItem} message={m.message} key={m.id} /></p>);\n    \n    let addNewMessage = (values) => {\n        props.sendMessage(values.newMessageBody);\n    }\n\n    return (\n        <div className={classes.dialogs}>\n            <div className={classes.dialogItems}>\n                {dialogsElements}\n            </div>\n            <div className={classes.messages}>\n                {messageElements}\n                <AddReduxMessageForm onSubmit={addNewMessage} />\n            </div>\n        </div>\n    )\n}\n\nconst AddMessageForm = (props) => {\n\n    return (\n        <form onSubmit={props.handleSubmit}>\n            <Field\n                name='newMessageBody'\n                component={Textarea}\n                validate={[required, maxLength30]}\n                placeholder='Enter your message'\n                className={classes.textarea} />\n            <button className={classes.sendButton}>Send</button>\n        </form>\n    )\n\n}\n\nconst AddReduxMessageForm = reduxForm({\nform: 'addMessageForm'\n})(AddMessageForm)\n\nexport default Messages;\n\n","import React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nlet mapStateForRedirectToProps = (state) => ({ isAuth: state.auth.isAuth })\n\nexport const withAuthRedirect = (Component) => {\n    class RedirectComponent extends React.Component {\n        render() {\n            if (!this.props.isAuth) return <Redirect to='login' />\n            return <Component {...this.props} />\n        }\n    }\n    let ConnectedAuthRedirectComponent = connect (mapStateForRedirectToProps)(RedirectComponent)\n\n    return ConnectedAuthRedirectComponent;\n}","import { sendMessageCreator } from '../../redux/messagesReducer';\nimport Messages from './messages';\nimport { connect } from 'react-redux';\nimport { withAuthRedirect } from '../HOC/withAuthRedirect';\nimport { compose } from 'redux';\n\nlet mapStateToProps = (state) => {\n    return {\n        messagesPage: state.messagesPage\n    }\n}\n\nlet mapDispatchToProps = (dispatch) => {\n    return {\n        sendMessage: (newMessageBody) => {\n            dispatch(sendMessageCreator(newMessageBody));\n        }\n    }\n}\n\nexport default compose(\n    connect(mapStateToProps, mapDispatchToProps),\n    withAuthRedirect\n)(Messages);\n","import React, { useState } from 'react';\nimport classes from './paginator.module.css';\nimport cn from 'classnames';\n\nconst Paginator = (props) => {\n    let pagesCount = Math.ceil(props.totalItemsCount / props.pageSize);\n    let pages = [];\n\n    for (let i = 1; i <= pagesCount; i++) {\n        pages.push(i);\n    }\n\n    let portionSize = 30;\n    let [portionNumber, setPortionNumber] = useState(1);\n    let portionCount = Math.ceil(pagesCount / portionSize);\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\n    let rightPortionPageNumber = portionNumber * portionSize;\n\n\n    return (\n        <div className={classes.paginator}>\n            {portionNumber > 1 &&\n                <svg className={`${classes.prevBtn} ${classes.paginButtons}`} onClick={() => { setPortionNumber(portionNumber - 1) }}\n                    viewBox=\"0 0 512 512\">\n                    <path d=\"M256,0C114.615,0,0,114.615,0,256s114.615,256,256,256s256-114.615,256-256S397.385,0,256,0z M256,480\n                       C132.288,480,32,379.712,32,256S132.288,32,256,32s224,100.288,224,224S379.712,480,256,480z\" />\n                    <path d=\"M292.64,116.8l-128,128c-6.204,6.241-6.204,16.319,0,22.56l128,128l22.56-22.72L198.56,256L315.2,139.36L292.64,116.8z\"\n                    />\n                </svg>}\n            <div className={classes.pages}>\n                {pages\n                    .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\n                    .map(p => {\n                        return <button\n                            className={cn({\n                                [classes.selectedPage]: props.currentPage === p\n                            }, classes.pageNumber)}\n                            onClick={(e) => { props.onPageChanged(p) }}\n                        >{p}</button>\n                    })}\n            </div>\n            {portionCount > portionNumber &&\n                <svg className={`${classes.nextBtn} ${classes.paginButtons}`}\n                    onClick={() => { setPortionNumber(portionNumber + 1) }}\n                    viewBox=\"0 0 384.97 384.97\">\n                    <path d=\"M192.485,0C86.173,0,0,86.173,0,192.485c0,106.3,86.173,192.485,192.485,192.485c106.3,0,192.485-86.185,192.485-192.485\n                   C384.97,86.173,298.785,0,192.485,0z M192.485,360.909c-92.874,0-168.424-75.55-168.424-168.424S99.611,23.688,192.485,23.688\n                   s168.424,75.923,168.424,168.797S285.359,360.909,192.485,360.909z\" />\n                    <path d=\"M166.114,99.503c-4.704-4.74-12.319-4.74-17.011,0c-4.704,4.752-4.704,12.439,0,17.191l74.528,75.61l-74.54,75.61\n                   c-4.704,4.74-4.704,12.439,0,17.191c4.704,4.74,12.319,4.74,17.011,0l83.009-84.2c4.572-4.632,4.584-12.56,0-17.191\n                   L166.114,99.503z\" />\n                </svg>}\n        </div >\n    )\n}\n\n\nexport default Paginator;","import React from 'react';\nimport preloaderImage from '../../../assets/images/preloader.svg'\nimport classes from './../../../App.css';\n\nlet Preloader = (props) => {\n    return <img src={preloaderImage}/>\n}\n\nexport default Preloader;","import React from 'react';\nimport classes from './users.module.css';\nimport userPhoto from '../../assets/images/user.png';\nimport { NavLink } from 'react-router-dom';\nimport Paginator from '../common/paginator/paginator';\nimport Preloader from '../common/preloader/preloader';\n\nconst Users = (props) => {\n\n    if (props.isFetching) {\n        return <Preloader />\n    }\n\n    return (\n        <div>\n            <Paginator {...props} />\n            {props.users.map(u =>\n                <div key={u.id} className={classes.userProfileContainer}>\n                    <span>\n                        <NavLink to={'/profile/' + u.id}>\n                            <img src={u.photos.small != null ? u.photos.small : userPhoto} className={classes.userPhoto} />\n                        </NavLink>\n                    </span>\n                    <span className={classes.description}>\n                        <NavLink to={'/profile/' + u.id} className={classes.name}>{u.name}</NavLink>\n                        <div className={classes.userInfo}>{u.status}</div>\n                    </span>\n                    <span className={classes.followUnfollowButton}>\n                        {u.followed\n                            ? <button disabled={props.followButtonDisabled.some(id => id === u.id)} onClick={() => {props.unfollow(u.id)\n                            }} className={classes.unfollowButton}>\n                                <span className={classes.unfollowNotOnHover}>Followed</span>\n                                <span className={classes.unfollowOnHover}>Unfollow</span>\n                                </button>\n                            : <button disabled={props.followButtonDisabled.some(id => id === u.id)} onClick={() => {props.follow(u.id)\n                            }} className={classes.followButton}>Follow</button>}\n                    </span>\n                </div>\n            )}\n        </div>\n    )\n}\n\nexport default Users;","import Axios from 'axios';\n\n\n\nconst instance = Axios.create({\n    withCredentials: true,\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\n    headers: { 'API-KEY': 'f435f5f1-d0aa-4821-9e0c-6d8e13f8c1f3' }\n\n})\n\nexport const usersAPI = {\n    getUsers(currentPage = 1, pageSize = 10) {\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\n            .then(response => {\n                return response.data\n            });\n    },\n    follow(userID) {\n        return instance.post(`follow/${userID}`, {})\n            .then(response => {\n                return response.data\n            });\n    },\n    unfollow(userID) {\n        return instance.delete(`follow/${userID}`)\n            .then(response => {\n                return response.data\n            });\n    },\n    getProfile(userID) {\n        console.warn('Obsolete method. Please use profileAPI object')\n        return profileAPI.getProfile(userID);\n    }\n}\n\nexport const profileAPI = {\n    getProfile(userID) {\n        return instance.get(`profile/` + userID);\n    },\n    setStatus(userID) {\n        return instance.get(`profile/status/${userID}`)\n    },\n    updateStatus(status) {\n        return instance.put(`profile/status`, { status: status })\n    },\n    savePhoto(photoFile) {\n        const formData = new FormData();\n        formData.append('data', photoFile);\n\n        return instance.put(`profile/photo`, formData, {\n            headers: {\n                'Content-Type': 'multipart/form-data'\n            }\n        })\n    },\n    saveProfile(profile) {\n        return instance.put(`profile/`, profile)\n    }\n\n}\n\nexport const authAPI = {\n    me() {\n        return instance.get(`auth/me`)\n    },\n    login(email, password, rememberMe, captcha = false) {\n        return instance.post(`auth/login`, {\n            email, password, rememberMe, captcha\n        })\n    },\n    logout() {\n        return instance.delete(`auth/login`)\n    }\n}\n\nexport const securityAPI = {\n    getCaptchaUrl() {\n        return instance.get(`security/get-captcha-url`)\n    }\n}\n\n\n   \n\n","import { usersAPI } from '../api/api';\n\nconst FOLLOWED = 'FOLLOWED';\nconst UNFOLLOWED = 'UNFOLLOWED';\nconst SET_USERS = 'SET_USERS';\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\nconst DISABLE_FOLLOW_BUTTON = 'DISABLE_FOLLOW_BUTTON';\n\nlet initialState = {\n    users: [],\n    pageSize: 50,\n    totalUsersCount: 0,\n    currentPage: 1,\n    isFetching: false,\n    followButtonDisabled: [],\n};\n\nconst usersReducer = (state = initialState, action) => {\n\n    switch (action.type) {\n        case FOLLOWED:\n            return {\n                ...state,\n                users: state.users.map(u => {\n                    if (u.id === action.userID) {\n                        return { ...u, followed: true }\n                    }\n                    return u;\n                })\n            }\n\n        case UNFOLLOWED:\n            return {\n                ...state,\n                users: state.users.map(u => {\n                    if (u.id === action.userID) {\n                        return { ...u, followed: false }\n                    }\n                    return u;\n                })\n            }\n        case SET_USERS:\n            return {\n                ...state,\n                users: action.users\n            }\n        case SET_CURRENT_PAGE:\n            return {\n                ...state,\n                currentPage: action.currentPage\n            }\n        case SET_TOTAL_USERS_COUNT:\n            return {\n                ...state,\n                totalUsersCount: action.count\n            }\n        case TOGGLE_IS_FETCHING:\n            return {\n                ...state,\n                isFetching: action.isFetching\n            }\n        case DISABLE_FOLLOW_BUTTON:\n            return {\n                ...state,\n                followButtonDisabled: action.isDisabled\n                    ? [...state.followButtonDisabled, action.userID]\n                    : state.followButtonDisabled.filter(id => id != action.userID)\n            }\n        default:\n            return state;\n    }\n}\n\nexport const followSuccess = (userID) => ({ type: FOLLOWED, userID })\nexport const unfollowSuccess = (userID) => ({ type: UNFOLLOWED, userID })\nexport const setUsers = (users) => ({ type: SET_USERS, users })\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage })\nexport const setTotalUsersCount = (totalUsersCount) => ({ type: SET_TOTAL_USERS_COUNT, count: totalUsersCount })\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching })\nexport const disableFollowButton = (isDisabled, userID) => ({ type: DISABLE_FOLLOW_BUTTON, isDisabled, userID })\n\nexport const requestUsers = (page, pageSize) => {\n    return async (dispatch) => {\n        dispatch(toggleIsFetching(true));\n\n        let data = await usersAPI.getUsers(page, pageSize);\n        dispatch(toggleIsFetching(false));\n        dispatch(setUsers(data.items));\n        dispatch(setTotalUsersCount(data.totalCount));\n    }\n}\n\nconst followUnfollowFlow = async (dispatch, userID, apiMethod, actionCreator) => {\n    dispatch(disableFollowButton(true, userID));\n    let data = await apiMethod(userID);\n    if (data.resultCode === 0) {\n        dispatch(actionCreator(userID));\n    }\n    dispatch(disableFollowButton(false, userID));\n}\n\nexport const follow = (userID) => {\n    return async (dispatch) => {\n        followUnfollowFlow(dispatch, userID, usersAPI.follow.bind(usersAPI), followSuccess);\n    }\n}\n\nexport const unfollow = (userID) => {\n    return async (dispatch) => {\n        followUnfollowFlow(dispatch, userID, usersAPI.unfollow.bind(usersAPI), unfollowSuccess);\n    }\n}\n\nexport default usersReducer;  ","import { createSelector } from 'reselect';\n\nconst getUsersSelector = (state) => {\n    return state.usersPage.users\n}\nexport const getUsers = createSelector(getUsersSelector, (users)  => {\n    return users.filter(u => true)\n})\n\nexport const getPageSize = (state) => {\n    return state.usersPage.pageSize\n}\n\nexport const getTotalUsersCount = (state) => {\n    return state.usersPage.totalUsersCount\n}\n\nexport const getCurrentPage = (state) => {\n    return state.usersPage.currentPage\n}\n\nexport const getIsFetching = (state) => {\n    return state.usersPage.isFetching\n}\n\nexport const getFollowButtonDisabled = (state) => {\n    return state.usersPage.followButtonDisabled\n}\nexport const getIsAuth = (state) => {\n    return state.auth.isAuth\n}\n","import React from 'react';\nimport Users from './users';\nimport { follow, unfollow, setCurrentPage, disableFollowButton, requestUsers } from '../../redux/usersReducer';\nimport { connect } from 'react-redux';\nimport Preloader from '../common/preloader/preloader';\nimport { getUsers, getPageSize, getTotalUsersCount, getCurrentPage, getIsFetching, getFollowButtonDisabled, getIsAuth } from '../../redux/usersSelectors';\nimport { compose } from 'redux';\nimport { withAuthRedirect } from '../HOC/withAuthRedirect';\n\n\nclass UsersContainer extends React.Component {\n\n    componentDidMount() {\n       this.props.requestUsers(this.props.currentPage, this.props.pageSize);\n    }\n\n    onPageChanged = (pageNumber) => {\n        this.props.setCurrentPage(pageNumber);\n        this.props.requestUsers(pageNumber, this.props.pageSize);\n    }\n    \n    render() {\n\n        if (this.props.isFetching) {\n            return <Preloader />\n          }\n\n        return <Users \n                users = {this.props.users}    \n                totalItemsCount = {this.props.totalUsersCount}\n                pageSize = {this.props.pageSize}\n                currentPage = {this.props.currentPage} \n                onPageChanged = {this.onPageChanged}\n                follow = {this.props.follow}\n                unfollow = {this.props.unfollow}\n                followButtonDisabled = {this.props.followButtonDisabled}\n                disableFollowButton = {this.props.disableFollowButton}\n                isFetching = {this.props.isFetching}\n                isAuth={this.props.isAuth}\n        />\n    }\n\n}\n\nlet mapStateToProps = (state) => {\n    return {\n        users: getUsers(state),\n        pageSize: getPageSize(state),\n        totalUsersCount: getTotalUsersCount(state),\n        currentPage: getCurrentPage(state),\n        isFetching: getIsFetching(state),\n        followButtonDisabled: getFollowButtonDisabled(state),\n        isAuth: getIsAuth(state)\n    }\n}\n\nexport default compose(connect(mapStateToProps, \n    {follow, unfollow, setCurrentPage, disableFollowButton, requestUsers}), withAuthRedirect)(UsersContainer);\n","import { usersAPI, profileAPI } from '../api/api';\nimport { stopSubmit } from 'redux-form';\n\nconst ADD_POST = 'ADD-POST';\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\nconst SET_STATUS = 'SET_STATUS';\nconst DELETE_POST = 'DELETE_POST';\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS';\nconst SAVE_PROFILE_SUCCESS = 'SAVE_PROFILE_SUCCESS';\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\n\n\nlet initialState = {\n    posts: [\n        { id: '1', post: 'You can also edit the profile details and upload a new profile photo. These data is sent to server and will remain after the page reload. You are still free try it as many times as you want.', likesCount: '11' },\n        { id: '2', post: 'You can change profile status by a double click on the status. To save it just click with the cursor outside the status area.', likesCount: '2' },\n        { id: '3', post: 'Posts that you add get erased after a page reload, so you can add as many posts as you want.', likesCount: '8' },\n        { id: '4', post: 'The textarea has a validation and you can`t add an empty post or a post containing more than 30 symbols.', likesCount: '5' },\n        { id: '5', post: 'Hey, you can add new posts here!', likesCount: '3' }\n    ],\n    profile: null,\n    status: null,\n    isFetching: false\n};\n\nconst profileReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case ADD_POST: {\n            let newPost = {\n                id: 3,\n                post: action.newPostText,\n                likesCount: 0\n            }\n            return {\n                ...state,\n                posts: [...state.posts, newPost]\n            };\n        }\n        case DELETE_POST: {\n            return { ...state, posts: state.posts.filter(p => p.id != action.postID) }\n        }\n        case SET_USER_PROFILE: {\n            return { ...state, profile: action.profile }\n        }\n        case SET_STATUS: {\n            return { ...state, status: action.status }\n        }\n        case SAVE_PHOTO_SUCCESS: {\n            return { ...state, profile: {...state.profile, photos: action.photos} }\n        }\n        case SAVE_PROFILE_SUCCESS: {\n            return { ...state, profile: action.profile} \n        }\n        case TOGGLE_IS_FETCHING:\n            return {\n                ...state,\n                isFetching: action.isFetching\n            }\n        default:\n            return state;\n    }\n}\n\nexport const addPostActionCreator = (newPostText) => ({ type: ADD_POST, newPostText })\nexport const deletePost = (postID) => ({ type: DELETE_POST, postID })\nconst setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile })\nconst setStatus = (status) => ({ type: SET_STATUS, status })\nconst savePhotoSuccess = (photos) => ({ type: SAVE_PHOTO_SUCCESS, photos })\nconst saveProfileSuccess = (profile) => ({ type: SAVE_PROFILE_SUCCESS, profile })\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching })\n\nexport const getUserProfile = (userID) => async (dispatch) => {\n    dispatch(toggleIsFetching(true));\n    const response = await usersAPI.getProfile(userID);\n    dispatch(setUserProfile(response.data));\n    dispatch(toggleIsFetching(false));\n}\n\nexport const getStatus = (userID) => async (dispatch) => {\n    const response = await profileAPI.setStatus(userID);\n    dispatch(setStatus(response.data));\n}\n\nexport const updateStatus = (status) => async (dispatch) => {\n    const response = await profileAPI.updateStatus(status);\n    if (response.data.resultCode === 0) {\n        dispatch(setStatus(status));\n    }\n}\n\nexport const savePhoto = (file) => async (dispatch) => {\n    dispatch(toggleIsFetching(true));\n    const response = await profileAPI.savePhoto(file);\n    if (response.data.resultCode === 0) {\n        dispatch(savePhotoSuccess(response.data.data.photos));\n    }\n    dispatch(toggleIsFetching(false));\n}\n\nexport const saveProfile = (profile) => async (dispatch, getState) => {\n    dispatch(toggleIsFetching(true));\n    const userID = getState().auth.userID;\n    const response = await profileAPI.saveProfile(profile);\n\n    if (response.data.resultCode === 0) {\n        dispatch(getUserProfile(userID));\n    } else {\n        dispatch(stopSubmit('edit-profile', { _error: response.data.messages[0] }))\n        dispatch(toggleIsFetching(false));\n        return Promise.reject(response.data.messages[0]);\n    }\n    \n}\n\nexport default profileReducer;","import React from 'react';\nimport classes from './../myPosts.module.css';\nimport { NavLink } from 'react-router-dom';\n\nconst Post = (props) => {\n  return (\n    <div className={classes.post}>\n      <div className={classes.textAndAva}>\n        <NavLink to={'/profile/:userId?'}>\n          <img className = {classes.ava} src = {props.profilePhoto}/> \n        </NavLink>\n        <div className = {classes.likesCounter}>{props.likes} Likes</div>\n      </div>\n      <p>{props.message}</p> \n    </div>\n  );\n}\n\nexport default Post;","import React from 'react';\nimport Post from './post/post'\nimport classes from './myPosts.module.css';\nimport { Field, reduxForm } from 'redux-form';\nimport { required, maxLengthCreator } from '../../../utilities/validators/validators';\nimport { Textarea } from '../../common/formsControls/formsControls';\n\n\nlet maxLength30 = maxLengthCreator(30);\n\nconst MyPosts = (props) => {\n\n  let postsElement = [...props.posts].reverse().map(\n    p => <Post profilePhoto={props.profilePhoto} message={p.post} likes={p.likesCount} key={p.id} />\n  );\n\n  let onAddPost = (values) => {\n    props.addPost(values.newPostText);\n  }\n\n  return (\n    <div className={classes.postsBlock}>\n      <h3>\n        My posts\n      </h3>\n      <AddPostReduxForm onSubmit={onAddPost} />\n      <div className={classes.posts}>\n        {postsElement}\n      </div>\n    </div>\n  );\n}\n\nconst AddNewPostForm = (props) => {\n  return (\n    <form onSubmit={props.handleSubmit}>\n      <Field\n        name='newPostText'\n        component={Textarea}\n        validate={[required, maxLength30]}\n        className={classes.textarea}\n        placeholder='Enter your post' />\n      <div>\n        <button className={classes.button}>Add a post</button>\n      </div>\n    </form>\n  )\n}\n\nlet AddPostReduxForm = reduxForm({\n  form: 'addNewPostForm '\n})(AddNewPostForm)\n\n\n\n\nexport default MyPosts;","import { addPostActionCreator } from '../../../redux/profileReducer';\nimport MyPosts from './myPosts';\nimport { connect } from 'react-redux';\n\nlet mapStateToProps = (state) => {\n  return {\n    posts: state.profilePage.posts,\n    newPostText: state.profilePage.newPostText,\n    profilePhoto: state.profilePage.profile.photos.small\n  }\n}\n\nlet mapDispatchToProps = (dispatch) => {\n  return {\n    addPost: (newPostText) => {\n      dispatch(addPostActionCreator(newPostText));\n    }\n  }\n}\n\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps) (MyPosts);\n\nexport default MyPostsContainer;\n","import React, { useState } from 'react';\nimport classes from '../profile.module.css';\n\n\nconst ProfileStatusWithHooks = (props) => {\n\n  let [editMode, setEditMode] = useState(false);\n  let [status, setStatus] = useState(props.status);\n\n  const activateEditMode = () => {\n    setEditMode(true);\n  }\n\n  const deactivateEditMode = () => {\n    setEditMode(false);\n    props.updateStatus(status)\n  }\n\n  let onStatusChange = (e) => {\n    setStatus(e.currentTarget.value);\n  }\n    return (\n      <div className={classes.status}>\n        { !editMode && props.isOwner && \n        <div>\n          <span onDoubleClick={activateEditMode}>{props.status || 'No status'}</span>\n        </div>\n        }\n        { !editMode && !props.isOwner && \n        <div>\n          <span>{props.status || 'No status'}</span>\n        </div>\n        }\n        {editMode &&\n        <div>\n          <input className={classes.textarea} \n          onChange={onStatusChange}\n          autoFocus={true} \n          onBlur={deactivateEditMode} \n          value={status} \n          />\n        </div>\n        }\n      </div>\n    );\n  }\n\n\nexport default ProfileStatusWithHooks;","import React, { useState } from 'react';\nimport classes from '../profile.module.css';\nimport ProfileStatusWithHooks from './profileStatusWithHooks';\n\nconst ProfileDescription = ({ profile, isOwner, status, updateStatus }) => {\n    \n    let [contacts, hideContacts] = useState(false);\n\n    const toggleContacts = () => {\n        contacts ? hideContacts(false) : hideContacts(true);\n    }\n    \n    return <div>\n        <div className={classes.name}>\n            {profile.fullName}\n        </div>\n        <ProfileStatusWithHooks status={status} updateStatus={updateStatus} isOwner={isOwner} />\n        <div className={classes.descriptionBlock}>\n            <p>\n                <b>Looking for a job:</b> <span>{profile.lookingForAJob ? 'yes' : 'no'}</span>\n            </p>\n            <p>\n                <b>My skills:</b> <span>{profile.lookingForAJobDescription}</span>\n            </p>\n            <p>\n                <b>About me:</b> <span>{profile.aboutMe}</span>\n            </p>\n            <details> \n                <summary className={classes.collapsible} onClick={toggleContacts} type=\"button\">\n\n                { contacts \n                ? <span className={classes.hideContacts}>Hide contacts</span> \n                : <span className={classes.showContacts}>Show contacts</span>\n                }\n                </summary>\n                <div className={classes.content}>\n                    <b>Contacts:</b> <span>{Object.keys(profile.contacts).map(key => {\n                        return <Contacts key={key} contactTitle={key} contactValue={profile.contacts[key]} />\n                    })}</span>\n                </div>\n            </details>\n        </div>\n    </div>\n}\n\nconst Contacts = ({ contactTitle, contactValue }) => {\n    return <ul>\n        <li><b>{contactTitle}:</b> {contactValue}</li>\n    </ul>\n}\n\nexport default ProfileDescription;\n\n","import React from 'react';\nimport profileClasses from '../profile.module.css';\nimport { reduxForm, Field } from 'redux-form';\nimport formsClasses from './../../common/formsControls/formsControls.module.css';\nimport { required } from '../../../utilities/validators/validators';\nimport { Input, Textarea } from '../../common/formsControls/formsControls';\n\nconst ProfileDataForm = ({ handleSubmit, profile, error, onCancel }) => {\n    return <form className={profileClasses.editProfileForm} onSubmit={handleSubmit}>\n        <div className={profileClasses.editProfile}>\n            <div className={profileClasses.editName}>\n                <b>Full name</b>\n                <Field name={'fullName'}\n                    validate={required}\n                    placeholder={'Full Name'}\n                    component={Input} />\n            </div>\n            <div>\n                <b>Looking for a job</b> <Field name={'lookingForAJob'} component={Input} type='checkbox' />\n            </div>\n            <div>\n                <b>My skills</b>\n                <Field name={'lookingForAJobDescription'} component={Textarea} />\n            </div>\n            <div>\n                <b>About me</b>\n                <Field name={'aboutMe'} component={Textarea} />\n            </div>\n            <div className={profileClasses.editContacts}>\n                {error && <div className={formsClasses.loginFormError}>\n                    {error}\n                </div>\n                }\n                <b>Contacts</b> <ul>{Object.keys(profile.contacts).map(key => {\n                      return  <li>{key}:<Field name={'contacts.' + key} component={Input} /></li>\n                })}\n                </ul>\n            </div>\n        </div>\n        <div className={profileClasses.saveButton}><button>Save</button></div>\n        <div className={profileClasses.cancelButton}><button onClick={onCancel}>Cancel</button></div>\n    </form>\n}\n\nexport const ProfileDataReduxForm = reduxForm({\n    form: 'edit-profile'\n})(ProfileDataForm)\n","import React, { useState } from 'react';\nimport classes from './profile.module.css';\nimport Preloader from '../common/preloader/preloader';\nimport userPhoto from '../../assets/images/user.png';\nimport MyPostsContainer from './myPosts/myPostsContainer';\nimport ProfileDescription from './profileDescription/profileDescription';\nimport { ProfileDataReduxForm } from './profileDescription/profileDataForm';\n\n\nconst Profile = (props) => {\n\n  let [editMode, setEditMode] = useState(false);\n\n  if (!props.profile || props.isFetching) {\n    return <Preloader />\n  }\n\n  const onMainPhotoSelected = (e) => {\n    if (e.target.files.length) {\n      props.savePhoto(e.target.files[0]);\n    }\n  }\n\n  const onSubmit = (formData) => {\n    const promise = props.saveProfile(formData);\n    promise.then(\n      () => {\n        setEditMode(false);\n      }\n    )\n  }\n\n  const onCancel = (e) => {\n    setEditMode(false);\n  }\n\n  return (\n    <div className={classes.page} >\n      <div className={classes.profilePage}>\n        <div className={classes.profilePhoto}>\n          <img src={props.profile.photos.large || userPhoto} />\n          {props.isOwner &&\n            <div>\n              <label for=\"file-upload\" className={classes.fileUpload}>\n                Upload new photo\n              </label>\n              <input type='file' onChange={onMainPhotoSelected} id=\"file-upload\" />\n            </div>}\n            {/* <input className={classes.fileUpload} type='file' onChange={onMainPhotoSelected} />} */}\n\n        </div>\n        <div className={classes.profileInfo}>\n          {editMode\n            ? <ProfileDataReduxForm initialValues={props.profile}\n              profile={props.profile} status={props.status} updateStatus={props.updateStatus}\n              onSubmit={onSubmit} onCancel={onCancel} />\n            : <ProfileDescription\n              profile={props.profile}\n              isOwner={props.isOwner}\n              status={props.status} updateStatus={props.updateStatus}\n              activateEditMode={() => { setEditMode(true) }} />}\n        </div>\n        {props.isOwner && !editMode && <div><button className={classes.editButton} onClick={() => { setEditMode(true) }}>Edit page</button></div>}\n      </div>\n      {props.isOwner && <MyPostsContainer />}\n    </div>\n  );\n}\n\nexport default Profile;","import React from 'react';\nimport Profile from './profile';\nimport { connect } from 'react-redux';\nimport { getUserProfile, getStatus, updateStatus, savePhoto, saveProfile } from '../../redux/profileReducer'\nimport { withRouter } from 'react-router-dom';\nimport { withAuthRedirect } from '../HOC/withAuthRedirect';\nimport { compose } from 'redux';\n\nclass ProfileContainer extends React.Component {\n    \n    refreshProfile() {\n        let userID = this.props.match.params.userId;\n        if (!userID) {\n            userID = this.props.authorisedUserID;  \n        }\n        this.props.getUserProfile(userID);\n        this.props.getStatus(userID);\n    }\n\n    componentDidMount() {   \n        this.refreshProfile();\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n\n        if (this.props.match.params.userId != prevProps.match.params.userId) {\n            this.refreshProfile();\n        }\n    }\n\n    render () {  \n        return  <Profile profile={this.props.profile} \n                         status={this.props.status} \n                         updateStatus={this.props.updateStatus}\n                         isOwner={!this.props.match.params.userId}\n                         savePhoto={this.props.savePhoto}\n                         saveProfile={this.props.saveProfile}\n                         isFetching={this.props.isFetching} />}\n}\n\nlet mapStateToProps = (state) => ({ \n    profile: state.profilePage.profile,\n    status: state.profilePage.status,\n    authorisedUserID: state.auth.userID,\n    isFetching: state.profilePage.isFetching\n})\n\nexport default compose(\n    connect (mapStateToProps, \n        { getUserProfile, getStatus, updateStatus, savePhoto, saveProfile }),\n    withRouter,\n    withAuthRedirect\n)(ProfileContainer)\n","import React from 'react';\nimport classes from './header.module.css';\nimport { NavLink } from 'react-router-dom';\nimport logo from './../../assets/images/react-logo.png';\n \nconst Header = (props) => {\n  return (\n    <header className={classes.header}>\n      <NavLink to='/profile'>\n        <img src={logo} />\n      </NavLink>\n      <div className={classes.loginBlock}>\n        {props.isAuth \n        ? <div>{props.login} - <button onClick={props.logout}>Logout</button> </div>  \n        : <button><NavLink to='/login'>Login</NavLink></button>}\n      </div>\n    </header>\n  );\n}\n\nexport default Header;","import { authAPI, securityAPI } from '../api/api';\nimport { stopSubmit } from 'redux-form';\n\nconst SET_AUTH_USER_DATA = 'auth/SET_AUTH_USER_DATA';\nconst SET_CAPTCHA_URL = 'auth/SET_CAPTCHA_URL';\n\nlet initialState = {\n    userID: null,\n    email: null,\n    login: null,\n    isAuth: false,\n    captchaUrl: null  // if null then captcha is not required\n};\n\nconst authReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case SET_AUTH_USER_DATA: \n        case SET_CAPTCHA_URL: \n            return {\n                ...state,\n                ...action.payload\n            }\n        default:\n            return state;\n    }\n}\n\nexport const setAuthUserData = (userID, email, login, isAuth) => ({\n    type: SET_AUTH_USER_DATA, payload: { userID, email, login, isAuth }\n})\nexport const setCaptchaUrl = (captchaUrl) => ({ type: SET_CAPTCHA_URL, payload: { captchaUrl } })\n\n\n\n\nexport const getAuthUserData = () => async (dispatch) => {\n    let response = await authAPI.me()\n\n    if (response.data.resultCode === 0) {\n        let { id, email, login } = response.data.data;\n        dispatch(setAuthUserData(id, email, login, true));\n    }\n}\n\n\nexport const login = (email, password, rememberMe, captcha) => async dispatch => {\n\n    let response = await authAPI.login(email, password, rememberMe, captcha);\n\n    if (response.data.resultCode === 0) {\n        dispatch(getAuthUserData())\n    } else {\n        if (response.data.resultCode === 10) {\n            dispatch(getCaptcha());\n        } \n        let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Error';\n        dispatch(stopSubmit('login', { _error: message }))\n    }\n\n}\n\nexport const getCaptcha = () => async dispatch => {\n\n    const response = await securityAPI.getCaptchaUrl();\n    const captchaUrl = response.data.url;\n    \n    dispatch(setCaptchaUrl(captchaUrl));\n}\n\nexport const logout = () => async dispatch => {\n\n    let response = await authAPI.logout();\n\n    if (response.data.resultCode === 0) {\n        dispatch(setAuthUserData(null, null, null, false))\n    }\n}\n\nexport default authReducer;","import React from 'react';\nimport Header from './header';\nimport { connect } from 'react-redux';\nimport { logout } from '../../redux/authReducer';\n\nclass HeaderContainer extends React.Component {\n\n  render() {\n    return <Header {...this.props} />\n  }\n}\n\nlet mapStateToProps = (state) => ({\n  isAuth: state.auth.isAuth,\n  login: state.auth.login\n});\n\nexport default connect(mapStateToProps, { logout })(HeaderContainer);","import React from 'react';\nimport { Field, reduxForm } from 'redux-form';\nimport { Input } from '../common/formsControls/formsControls';\nimport { required } from '../../utilities/validators/validators';\nimport classes from './../common/formsControls/formsControls.module.css';\nimport loginClasses from './login.module.css';\n\nconst LoginForm = (props) => {\n    return (\n        <form onSubmit={props.handleSubmit} className={loginClasses.loginForm}>\n            <div>\n                <Field name={'email'} \n                className={loginClasses.loginName}\n                validate={required}\n                placeholder={'Email'} \n                component={Input} />\n            </div>\n            <div>\n                <Field name={'password'}\n                className={loginClasses.loginName}\n                type={'password'} \n                validate={required}\n                placeholder={'Password'} \n                component={Input} />\n            </div>\n            <div className={loginClasses.rememberMe}>\n                <Field className={loginClasses.checkbox} name={'rememberMe'} component={Input} \n                type={'checkbox'} /> \n                <span>Remember me</span>\n            </div>\n            { props.captchaUrl && <img src={props.captchaUrl} /> }\n            { props.captchaUrl &&\n                <div>\n                    <Field name={'captcha'}\n                    type={'captcha'}\n                    validate={required}\n                    placeholder={'Enter the symbols'} \n                    component={Input} />\n                </div>}\n            <div>\n                <button type='submit'>Login</button>\n            </div>\n            \n            { props.error && <div className={classes.loginFormError}>\n                {props.error}\n            </div>\n            }\n        </form>\n    )\n}\n\nexport const LoginReduxForm = reduxForm({\n    form: 'login'\n  })(LoginForm)\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { login } from '../../redux/authReducer';\nimport { Redirect } from 'react-router-dom';\nimport { LoginReduxForm } from './loginForm';\nimport classes from './login.module.css';\n\nconst Login = (props) => {\n    \n    let onSubmit = (formData) => {\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha);\n    }\n\n    if (props.isAuth) {\n        return <Redirect to={'/profile'} />\n    } \n\n    return (\n        <div className={classes.loginBlock}>\n            <h1>Login</h1>\n            <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl} />\n            <div className={classes.loginDetails}>\n                <p><b>Email:</b> auutt23@gmail.com</p>\n                <p><b>Password:</b> FaFdhj338shs</p> \n            </div>\n        </div>\n    )\n}\n\nlet mapStateToProps = (state) => ({\nisAuth: state.auth.isAuth,\ncaptchaUrl: state.auth.captchaUrl\n})\n\nexport default connect (mapStateToProps, { login })(Login);","import { getAuthUserData } from './authReducer';\n\nconst INITIALISED = 'INITIALISED';\n\nlet initialState = {\n    initialised: false\n};\n\nconst appReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case INITIALISED: {\n            return {\n                ...state,\n                initialised: true\n            }\n        }\n        default:\n            return state;\n    }\n}\n\nexport const initialised = () => ({ type: INITIALISED });\n\n\nexport const initialiseApp = () => (dispatch) => {\n    let promise = dispatch(getAuthUserData());\n    //when there are a number of dispatches, we put them in an array '[promise]' and do the following\n    Promise.all([promise])\n        .then(() => {\n            dispatch(initialised())\n        })\n}\n\nexport default appReducer;","\nlet initialState = {\n    friends: [\n        { id: '1', name: 'Anton', ava: \"https://vokrug-tv.ru/pic/person/4/5/9/5/4595cbf1bb37fdc619ee8c0d04d05dd7.jpg\" },\n        { id: '2', name: 'Dima', ava: \"https://cdn.iz.ru/sites/default/files/styles/900x506/public/article-2017-11/RIAN_3173477.HR_.ru_1.jpg?itok=T8jXYstr\"},\n        { id: '3', name: 'Charlie', ava: \"https://premierliga.ru/netcat_files/3/1/Chorluka-Vedran-55790.jpg\"}\n    ]\n};\n\nconst navbarReducer = (state = initialState, action) => {\n    \n    return state; \n}\n\nexport default navbarReducer;","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\nimport profileReducer from './profileReducer';\nimport messagesReducer from './messagesReducer';\nimport navbarReducer from './navbarReducer';\nimport usersReducer from './usersReducer';\nimport authReducer from './authReducer';\nimport thunk from 'redux-thunk';\nimport { reducer as formReducer } from 'redux-form'\nimport appReducer from './appReducer';\n\nlet reducers = combineReducers({\n    profilePage: profileReducer,\n    messagesPage: messagesReducer,\n    navbar: navbarReducer,\n    usersPage: usersReducer,\n    auth: authReducer,\n    form: formReducer,\n    app: appReducer\n});\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunk)));\n\nexport default store;","import React from 'react';\nimport './App.css';\nimport Navbar from './components/navbar/navbar';\nimport News from './components/news/news';\nimport { Route, withRouter, Switch, Redirect } from 'react-router-dom';\nimport Music from './components/music/music';\nimport Settings from './components/settings/settings';\nimport Friends from './components/friends/friends';\nimport MessagesContainer from './components/messages/messagesContainer';\nimport UsersContainer from './components/users/usersContainer';\nimport ProfileContainer from './components/profile/profileContainer';\nimport HeaderContainer from './components/header/headerContainer';\nimport LoginPage from './components/login/loginContainer';\nimport { initialiseApp } from '../src/redux/appReducer';\nimport { connect, Provider } from 'react-redux';\nimport { compose } from 'redux';\nimport Preloader from './components/common/preloader/preloader';\nimport store from './redux/reduxStore';\nimport { HashRouter } from 'react-router-dom';\n// import { withSuspense } from './components/HOC/withSuspense';\n\n// const MessagesContainer = React.lazy(() => import('./components/messages/messagesContainer'));\n// const ProfileContainer = React.lazy(() => import('./components/profile/profileContainer'));\n\n\nclass App extends React.Component {\n\n  componentDidMount() {\n    this.props.initialiseApp();\n  }\n\n  render() {\n    if (!this.props.initialised) {\n      return <Preloader />\n    }\n\n    return (\n      <div className='app-wrapper'>\n        <HeaderContainer />\n        <Navbar />\n        <div className='app-wrapper-content'>\n          <Switch>\n            <Route exact path='/'><Redirect to='/profile'/></Route>\n            <Route path='/profile/:userId?' render={ () => <ProfileContainer /> } />\n            <Route path='/messages' render={ () => <MessagesContainer /> } />\n            <Route path='/news' render={() => <News />} />\n            <Route path='/music' render={() => <Music />} />\n            <Route path='/settings' render={() => <Settings />} />\n            <Route path='/friends' render={() => <Friends />} />\n            <Route path='/users' render={() => <UsersContainer />} />\n            <Route path='/login' render={() => <LoginPage />} />\n            <Route path='*' render={() => <div>404 NOT FOUND</div> } />\n          </Switch>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  initialised: state.app.initialised\n})\n\nconst AppContainer = compose(withRouter(connect(mapStateToProps, { initialiseApp })(App)));\n\nconst SocialNetworkApp = (props) => {\n  return (\n    <HashRouter >\n      <Provider store={store}>\n        <AppContainer />\n      </Provider>\n    </HashRouter>)\n}\n\n\nexport default SocialNetworkApp;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport SocialNetworkApp from './App';\n\n  ReactDOM.render(\n    <React.StrictMode>\n      <SocialNetworkApp />\n    </React.StrictMode>,\n    document.getElementById('root'));\n\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"myPosts_postsBlock__9aRiz\",\"button\":\"myPosts_button__2Wbqq\",\"posts\":\"myPosts_posts__2xQuF\",\"post\":\"myPosts_post__3DOP8\",\"textAndAva\":\"myPosts_textAndAva__1tKnt\",\"ava\":\"myPosts_ava__1w7KZ\",\"likesCounter\":\"myPosts_likesCounter__1eSsN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginBlock\":\"login_loginBlock__2Gvrs\",\"loginName\":\"login_loginName__qScZK\",\"rememberMe\":\"login_rememberMe__lJ9SY\",\"checkbox\":\"login_checkbox__Z0uto\",\"loginDetails\":\"login_loginDetails__38Blw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"paginator_paginator__19aej\",\"pages\":\"paginator_pages__1iImD\",\"paginButtons\":\"paginator_paginButtons__1g6RD\",\"prevBtn\":\"paginator_prevBtn__1UDMW\",\"nextBtn\":\"paginator_nextBtn__2CxG8\",\"pageNumber\":\"paginator_pageNumber__1InlL\",\"selectedPage\":\"paginator_selectedPage__2HpBs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"formsControls_error__3EjPo\",\"loginFormError\":\"formsControls_loginFormError__1tKfd\"};","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAP1BMVEXx8PCqqqmnp6bPz8708/Otrazu7e3b2trr6uqkpKPV1NTi4eG1tLSxsLDl5OS9vLzCwsHIx8e+vr3MzMvZ19gaUtbVAAAFMElEQVR4nO2d27qbIBBGRUfxfEjy/s9aiLutuzZR4TcM7lmXucr6gBkYEJJEEARBEARBEARBEARBEARBEARBEOKD/hL6r+AxUmWj6zqz1LVuyktpGhl9H9ouVyq1KJV37XDXF5GkpKyH2esb9qehLpPYJSnRU/ev3MKym3TUjqZ3DvlLv1kyH3S8nbVo2uq939Oxapsi9F91gvpp0+43Ux9hM5J+Pf7W7djp2BSpHPf7PR3HMipH6ttjgkaxjamnUnNY0Co20ShSrY4LGkVVR6JI2kFvJo54Y4Kos2EUIZWa3FnQTMkjGIvlgTS4Ju3K0AKbHMyDK8UxtMAWdz9Bo3gPrfAWv0E4w3sokkOmXzViy9iQMn9Bo5jxVezdM+GSrg8t8hJIE9pGDC3yit4/zMzkTBuRvDPFb9I7z5FIqCY0jcjSkB6oJjSN+OCoSDeg4Y2jIShVzHBMGGZhj4Tjcn/CdVLTTafQOmvKASio1MBvndhDBZViNxBJIzup6absKjaYZcXCkN0CA5kNn4bsMiK1UEGl2K2DCZnvLR07Q7CgUuwMscPQDER2hhXYsBLDT/MDDK8/Dq9vCBZkmC1wZagZdsWoHzBrwy6AzRKYneH11xbQMo0t1LAzvP4K+PJVjKQHG7KrROG21mYYbrCV2ITY8quXFtB0kd4YHoy+fFUfmy74JQubLpChJueXLH7A/mFSIINpyzDQJOR5KnFJOjLspAnVQEOOW8Am5+PKbRW/fG+5/Hka4EDkOQyRCyiGS6eZEpUR2R5nL0DdNB05ZkML7NAQz1xhuf4Z4WSAnPMeQmu8BjOtYTqhmcHszzAWhCR9run+iwbQhE1oibf4p0S+yXAGkBI5xxmLd9mUYaH0O74Jg3Wq+MJvlZiH/vvb+NVNOdZJV3iNRPaj8IlPOK1D//ldeBROWZZJ11DjOhJT1p8ALyDHRVTK7oTJSxy/6M55z0i/kTkZsv049j+UDv00Zfgh0GuoOV7hr2IJMzPHZzZRzGaWHD24wPJownsOVhY5VxBfQMcKGnENwhk6kjJiG4Rf7D5hw/H0zD72nhtmXOTe4PKGu9fCcax7/0OzN2F0EU25l9Bjp6BSLK/B2MHlY+mBWU2EM5rk2OQ7umn3k2K3nyW6ebcRPLQITof4FO+HmlAp3pcJrnHYZYtgS2ZJ5lDFiKkQVey/q3zJFMtYJOe9mTaKO72pzJxugrakKovAUXudi0oHHVrgPdSPG689bCrmI9+72aloxh2vPWw6VmNTcJSkQo/OA/AfRzVqdo5E2dZrJIcc8yHj9HKJ7Z6g5ltIKjadlfr6tnoJCOKY3urwUYeonzp4+/1xVN3Uh+ytVPR1B4iebyWrru4D9VYbPIHB5Y1kHiS0UnJvP+I3O7b3zz58ZYPnKcHljWT6wdBKxePTfl+Oj484Eun2tOC54aja818wM+3n9UKHt2R3djtq8DU0Do63E9dXlHwmPWwo5uNZcbWoGfhZ0rw+o6JD5RjabMEJr7RRD/lqC0U6oOfkjg+NnQf8CbP9m52f4wH0w97qgQJ4O4jHU3HnAlMsObagJUed4QBe6YEF9YQZ9lkHLJDvM8CXeGFBnDVCXsqCB/GpG/zqVSyAW1AczqR/ksr7wBj61k40/reAQu+3OgPvj8Ggd5Sdge+BMZ4z0iW+s1PwK05n4Jkv0Jfn4vE99CeG4RFDMRTD8IihGP4AQ66FxL/4lhQpUylnAN9mks44gygKE2/8BQVBEARBEARBEARBEARBEARBEARhJ78AIwhTb1cHN38AAAAASUVORK5CYII=\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageItem\":\"navFriends_imageItem__3LJKG\",\"profile\":\"navFriends_profile__32vZk\",\"friendsProfiles\":\"navFriends_friendsProfiles__q-ag9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profilePage\":\"profile_profilePage__12p6K\",\"subtitle\":\"profile_subtitle__3jSqd\",\"profilePhoto\":\"profile_profilePhoto__1EU9I\",\"fileUpload\":\"profile_fileUpload__Lr3Ca\",\"profileInfo\":\"profile_profileInfo__14Mlr\",\"name\":\"profile_name__3H8Dj\",\"textarea\":\"profile_textarea__30Rye\",\"status\":\"profile_status__1wlxz\",\"descriptionBlock\":\"profile_descriptionBlock__fitpg\",\"editButton\":\"profile_editButton__Ni7Xc\",\"editProfileForm\":\"profile_editProfileForm__1rymp\",\"editProfile\":\"profile_editProfile__3adMg\",\"editContacts\":\"profile_editContacts__1aH-B\",\"cancelButton\":\"profile_cancelButton__N57pw\",\"saveButton\":\"profile_saveButton__16B1z\",\"collapsible\":\"profile_collapsible__pkb3k\",\"active\":\"profile_active__36VvY\",\"content\":\"profile_content__1OHeH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__v9FKw\",\"loginBlock\":\"header_loginBlock__39tD3\",\"username\":\"header_username__1yRzT\"};"],"sourceRoot":""}
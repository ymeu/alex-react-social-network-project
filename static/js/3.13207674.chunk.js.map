{"version":3,"sources":["components/HOC/withAuthRedirect.jsx","components/profile/profileInfo/profileInfo.module.css","components/profile/myPosts/post/post.module.css","components/profile/myPosts/myPosts.module.css","components/profile/profileInfo/profileStatusWithHooks.jsx","components/profile/profileInfo/profileInfo.jsx","components/profile/myPosts/post/post.jsx","components/profile/myPosts/myPosts.jsx","components/profile/myPosts/myPostsContainer.jsx","components/profile/profile.jsx","components/profile/profileContainer.jsx"],"names":["mapStateForRedirectToProps","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","module","exports","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","onDoubleClick","className","classes","textarea","onChange","e","currentTarget","value","autoFocus","onBlur","updateStatus","ProfileInfo","profile","profilePage","profilePhoto","src","photos","large","descriptionBlock","name","fullName","subtitle","aboutMe","lookingForAJob","lookingForAJobDescription","contacts","facebook","website","vk","twitter","instagram","youtube","github","mainLink","Post","item","post","ava","message","likesCounter","likes","maxLength10","maxLengthCreator","AddPostReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","component","Textarea","validate","required","placeholder","button","MyPosts","console","log","postsElement","posts","reverse","map","p","likesCount","key","id","postsBlock","values","addPost","newPostText","MyPostsContainer","dispatch","addPostActionCreator","Profile","ProfileContainer","userID","match","params","userId","authorisedUserID","getUserProfile","getStatus","compose","withRouter"],"mappings":"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","file":"static/js/3.13207674.chunk.js","sourcesContent":["import React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nlet mapStateForRedirectToProps = (state) => ({ isAuth: state.auth.isAuth })\n\nexport const withAuthRedirect = (Component) => {\n    class RedirectComponent extends React.Component {\n        render() {\n            if (!this.props.isAuth) return <Redirect to='login' />\n            return <Component {...this.props} />\n        }\n    }\n    let ConnectedAuthRedirectComponent = connect (mapStateForRedirectToProps)(RedirectComponent)\n\n    return ConnectedAuthRedirectComponent;\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profilePage\":\"profileInfo_profilePage__o6NQW\",\"subtitle\":\"profileInfo_subtitle__2dNPw\",\"backgroundPhoto\":\"profileInfo_backgroundPhoto__2Ne9a\",\"profilePhoto\":\"profileInfo_profilePhoto__1sEQX\",\"descriptionBlock\":\"profileInfo_descriptionBlock__3C0eJ\",\"name\":\"profileInfo_name__3TJT-\",\"textarea\":\"profileInfo_textarea__2vnvz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"post_item__11cOo\",\"ava\":\"post_ava__3CfSd\",\"likesCounter\":\"post_likesCounter__2jqUo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"myPosts_postsBlock__9aRiz\",\"button\":\"myPosts_button__2Wbqq\"};","import React, { useState } from 'react';\nimport classes from './profileInfo.module.css';\n\n\nconst ProfileStatusWithHooks = (props) => {\n\n  let [editMode, setEditMode] = useState(false);\n  let [status, setStatus] = useState(props.status);\n\n  const activateEditMode = () => {\n    setEditMode(true);\n  }\n\n  const deactivateEditMode = () => {\n    setEditMode(false);\n    props.updateStatus(status)\n  }\n\n  let onStatusChange = (e) => {\n    setStatus(e.currentTarget.value);\n  }\n    return (\n      <div>\n        { !editMode &&\n        <div>\n          <span onDoubleClick={activateEditMode}>\n            {props.status || 'No status'} </span>\n        </div>\n        }\n        {editMode &&\n        <div>\n          <input className={classes.textarea} \n          onChange={onStatusChange}\n          autoFocus={true} \n          onBlur={deactivateEditMode} \n          value={status} \n          />\n        </div>\n        }\n      </div>\n    );\n  }\n\n\nexport default ProfileStatusWithHooks;","import React from 'react';\nimport classes from './profileInfo.module.css';\nimport Preloader from '../../common/preloader/preloader';\nimport ProfileStatusWithHooks from './profileStatusWithHooks';\n\nconst ProfileInfo = (props) => {\n\n  if (!props.profile) {\n    return <Preloader />\n  }\n\n  // for (const property in props.profile.contacts) {\n  //   if (property != null) { \n  //   return (\n  //     <div className={classes.subtitle}> My contacts</div>\n  //   <div>`${property}: ${props.profile.contacts[property]}`</div>)\n  // }}   \n\n  return (\n    <div>\n      {/* <div>\n        <img className={classes.backgroundPhoto} src=\"https://dfla.org/wp-content/uploads/2018/12/Dark-Red-background-banner.jpg\"></img>\n      </div> */}\n      <div className={classes.profilePage}>\n        <div className={classes.profilePhoto}>\n          <img src={props.profile.photos.large} />\n        </div>\n        <div className={classes.descriptionBlock}>\n          <div className={classes.name}>\n            {props.profile.fullName}\n          </div>\n          <ProfileStatusWithHooks status={props.status} updateStatus={props.updateStatus}/>\n          <div>\n            <div className={classes.subtitle}> {props.profile.aboutMe ? <div>About me</div> : null} </div>\n            {props.profile.aboutMe}\n          </div>\n          <div>\n            <div className={classes.subtitle}> {props.profile.lookingForAJob === true ? <div>Career status</div> : null} </div>\n            {props.profile.lookingForAJob === true ? <div>{props.profile.lookingForAJobDescription}</div> : null}\n          </div>\n          <div>\n            <div className={classes.subtitle}>My contacts</div> \n            \n            <div>{props.profile.contacts.facebook}</div>\n            <div>{props.profile.contacts.website}</div>\n            <div>{props.profile.contacts.vk}</div>\n            <div>{props.profile.contacts.twitter}</div>\n            <div>{props.profile.contacts.instagram}</div>\n            <div>{props.profile.contacts.youtube}</div>\n            <div>{props.profile.contacts.github}</div>\n            <div>{props.profile.contacts.mainLink}</div>\n          </div> \n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ProfileInfo;","import React from 'react';\nimport classes from './post.module.css';\n\nconst Post = (props) => {\n  return (\n    <div className={`${classes.item} ${classes.post}`}>\n      <img className = {classes.ava} src = 'https://tmssl.akamaized.net/images/portrait/originals/255450-1567785905.png'/> \n      {props.message}\n      <div className = {classes.likesCounter}>{props.likes} Likes</div>\n    </div>\n  );\n}\n\nexport default Post;","import React from 'react';\nimport Post from './post/post'\nimport classes from './myPosts.module.css';\nimport { Field, reduxForm } from 'redux-form';\nimport { required, maxLengthCreator } from '../../../utilities/validators/validators';\nimport { Textarea } from '../../common/formsControls/formsControls';\n\nlet maxLength10 = maxLengthCreator(10);\n\nconst MyPosts = (props) => {\n\n  console.log('render');\n\n  let postsElement = [...props.posts].reverse().map(\n    p => <Post message={p.post} likes={p.likesCount} key={p.id} />\n  );\n\n  let onAddPost = (values) => {\n    props.addPost(values.newPostText);\n  }\n\n  return (\n    <div className={classes.postsBlock}>\n      <h3>\n        My posts\n      </h3>\n      <AddPostReduxForm onSubmit={onAddPost} />\n      <div className={classes.posts}>\n        {postsElement}\n      </div>\n    </div>\n  );\n}\n\nconst AddNewPostForm = (props) => {\n  return (\n    <form onSubmit={props.handleSubmit}>\n      <Field\n        name='newPostText'\n        component={Textarea}\n        validate={[required, maxLength10]}\n        className={classes.textarea}\n        placeholder='Enter your post' />\n      <div>\n        <button className={classes.button}>Add a post</button>\n      </div>\n    </form>\n  )\n}\n\nlet AddPostReduxForm = reduxForm({\n  form: 'addNewPostForm '\n})(AddNewPostForm)\n\n\n\n\nexport default MyPosts;","import { addPostActionCreator } from '../../../redux/profileReducer';\nimport MyPosts from './myPosts';\nimport { connect } from 'react-redux';\n\nlet mapStateToProps = (state) => {\n  return {\n    posts: state.profilePage.posts,\n    newPostText: state.profilePage.newPostText\n  }\n}\n\nlet mapDispatchToProps = (dispatch) => {\n  return {\n    addPost: (newPostText) => {\n      dispatch(addPostActionCreator(newPostText));\n    }\n  }\n}\n\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps) (MyPosts);\n\nexport default MyPostsContainer;\n","import React from 'react';\nimport ProfileInfo from './profileInfo/profileInfo';\nimport MyPostsContainer from './myPosts/myPostsContainer';\n\nconst Profile = (props) => {\n  return (\n    <div>\n      <ProfileInfo profile={props.profile} \n      status={props.status} updateStatus={props.updateStatus} />\n      <MyPostsContainer />\n    </div>\n  );\n}\n\nexport default Profile;","import React from 'react';\nimport Profile from './profile';\nimport { connect } from 'react-redux';\nimport {getUserProfile, getStatus, updateStatus} from '../../redux/profileReducer'\nimport { withRouter } from 'react-router-dom';\nimport { withAuthRedirect } from '../HOC/withAuthRedirect';\nimport { compose } from 'redux';\n\nclass ProfileContainer extends React.Component {\n    \n    componentDidMount() {    \n        let userID = this.props.match.params.userId;\n        if (!userID) {\n            userID = this.props.authorisedUserID;  \n        }\n        this.props.getUserProfile(userID);\n        this.props.getStatus(userID);\n    }\n\n    render () {  \n        return  <Profile {...this.props} \n        profile={this.props.profile} \n        status={this.props.status} \n        updateStatus={this.props.updateStatus} /> \n    }\n}\n\nlet mapStateToProps = (state) => ({ \n    profile: state.profilePage.profile,\n    status: state.profilePage.status,\n    authorisedUserID: state.auth.userID\n})\n\nexport default compose(\n    connect (mapStateToProps, \n        { getUserProfile, getStatus, updateStatus }),\n    withRouter,\n    withAuthRedirect\n)(ProfileContainer)\n"],"sourceRoot":""}
(this["webpackJsonpreact-01"]=this["webpackJsonpreact-01"]||[]).push([[0],{132:function(e,t,a){e.exports={newsPage:"news_newsPage__aiUDg"}},133:function(e,t,a){e.exports={settingsPage:"settings_settingsPage__19--1"}},136:function(e,t,a){e.exports=a.p+"static/media/preloader.c3d168f8.svg"},139:function(e,t,a){e.exports=a.p+"static/media/react-logo.d5e08cd1.png"},166:function(e,t,a){e.exports=a(292)},171:function(e,t,a){},176:function(e,t,a){},19:function(e,t,a){e.exports={nav:"navbar_nav__3IIWD",item:"navbar_item__2CJlB",activeLink:"navbar_activeLink__2pLGi",friends:"navbar_friends__1THy4"}},22:function(e,t,a){e.exports={dialogs:"messages_dialogs__WDDgT",dialogItems:"messages_dialogItems__1n-_D",messages:"messages_messages__34oTo",textarea:"messages_textarea__2ja7x",sendButton:"messages_sendButton__2DzPb"}},23:function(e,t,a){e.exports={userPhoto:"users_userPhoto__2Bfxq",name:"users_name__Or0kG",description:"users_description__oKCW3",followUnfollowButton:"users_followUnfollowButton__makJj",followButton:"users_followButton__FfuXv",unfollowButton:"users_unfollowButton__3DtIf",unfollowOnHover:"users_unfollowOnHover__1xy7b",unfollowNotOnHover:"users_unfollowNotOnHover__3IlWc",userInfo:"users_userInfo__FCKvA",userProfileContainer:"users_userProfileContainer__RtX_7",followPreloader:"users_followPreloader__3vSPE"}},292:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(67),s=a.n(o);a(171),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=a(27),c=a(28),i=a(29),u=a(30),m=(a(98),a(19)),p=a.n(m),f=a(11),d=a(10),E=a(73),g=a.n(E),h=function(e){var t=e.friends.map((function(e){return r.a.createElement("div",{className:g.a.profile,key:e.id},r.a.createElement("div",null,r.a.createElement("img",{className:g.a.imageItem,src:e.ava})),r.a.createElement("div",null,e.name))}));return r.a.createElement("div",{className:g.a.friendsProfiles},t)},v=(Object(d.b)((function(e){return{friends:e.navbar.friends}}))(h),function(){return r.a.createElement("nav",{className:p.a.nav},r.a.createElement("div",{className:p.a.itemBlock},r.a.createElement("div",{className:p.a.item},r.a.createElement(f.b,{to:"/profile",activeClassName:p.a.activeLink},"Profile")),r.a.createElement("div",{className:p.a.item},r.a.createElement(f.b,{to:"/messages",activeClassName:p.a.activeLink},"Messages")),r.a.createElement("div",{className:p.a.item},r.a.createElement(f.b,{to:"/users",activeClassName:p.a.activeLink},"Users")),r.a.createElement("div",{className:p.a.item},r.a.createElement(f.b,{to:"news",activeClassName:p.a.activeLink},"News")),r.a.createElement("div",{className:p.a.item},r.a.createElement(f.b,{to:"settings",activeClassName:p.a.activeLink},"Settings"))))}),b=a(132),_=a.n(b),O=function(){return r.a.createElement("div",{className:_.a.newsPage},"News page is coming soon")},w=a(12),P=function(){return r.a.createElement("div",null,"Music")},S=a(133),y=a.n(S),j=function(){return r.a.createElement("div",{className:y.a.settingsPage},"Settings page is coming soon")},N=(a(176),function(){return r.a.createElement("div",null,r.a.createElement("div",null,"Friends"))}),k=a(38),A=a(8),C={dialogs:[{id:"1",name:"Alexey"}],messages:[{id:"1",message:"Hey, welcome to the messages page!"},{id:"2",message:"A lot of new features are coming here soon. At the moment you can only send your message. New messages get erased after a page reload, so you can send them as many as you want."},{id:"3",message:"You can`t send an empty message or a message exceeding 30 characters."},{id:"4",message:"Check the users page out! Look at the profiles of other users. When you follow or unfollow different users, it is saved on server, so you always keep a track of the users you follow."}]},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND_MESSAGE":var a=t.newMessageBody;return Object(A.a)({},e,{messages:[].concat(Object(k.a)(e.messages),[{id:4,message:a}])});case"DELETE_MESSAGE":return Object(A.a)({},e,{messages:e.messages.filter((function(e){return e.id!=t.messageID}))});default:return e}},D=a(22),x=a.n(D),T=function(e){return r.a.createElement("div",{className:x.a.dialog},r.a.createElement(f.b,{to:"/profile"},e.name))},I=function(e){return r.a.createElement("div",{className:x.a.message},e.message)},U=a(128),F=a(129),L=a(43),M=a.n(L),R=function(e){var t=e.meta.error&&e.meta.touched;return r.a.createElement("div",{className:t&&M.a.error},r.a.createElement("textarea",Object.assign({},e,e.input)),r.a.createElement("div",null,t&&r.a.createElement("span",null,e.meta.error)))},H=function(e){var t=e.meta.error&&e.meta.touched;return r.a.createElement("div",{className:t&&M.a.error},r.a.createElement("input",Object.assign({},e,e.input)),r.a.createElement("div",null,t&&r.a.createElement("span",null,e.meta.error)))},z=function(e){if(!e)return"Please enter at least 1 character"},J=function(e){return function(t){if(t.length>e)return"Maximum length of ".concat(e," characters is exceeded")}},G=J(30),K=Object(F.a)({form:"addMessageForm"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement(U.a,{name:"newMessageBody",component:R,validate:[z,G],placeholder:"Enter your message",className:x.a.textarea}),r.a.createElement("button",{className:x.a.sendButton},"Send"))})),V=function(e){var t=e.messagesPage.dialogs.map((function(e){return r.a.createElement(T,{name:e.name,id:e.id,key:e.id})})),a=e.messagesPage.messages.map((function(e){return r.a.createElement("p",null,r.a.createElement(I,{className:x.a.messageItem,message:e.message,key:e.id}))}));return r.a.createElement("div",{className:x.a.dialogs},r.a.createElement("div",{className:x.a.dialogItems},t),r.a.createElement("div",{className:x.a.messages},a,r.a.createElement(K,{onSubmit:function(t){e.sendMessage(t.newMessageBody)}})))},W=function(e){return{isAuth:e.auth.isAuth}},Y=function(e){var t=function(t){Object(u.a)(n,t);var a=Object(i.a)(n);function n(){return Object(l.a)(this,n),a.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return this.props.isAuth?r.a.createElement(e,this.props):r.a.createElement(w.a,{to:"login"})}}]),n}(r.a.Component);return Object(d.b)(W)(t)},Z=a(5),q=Object(Z.d)(Object(d.b)((function(e){return{messagesPage:e.messagesPage}}),(function(e){return{sendMessage:function(t){e(function(e){return{type:"SEND_MESSAGE",newMessageBody:e}}(t))}}})),Y)(V),Q=a(23),X=a.n(Q),$=a(72),ee=a.n($),te=a(70),ae=a(32),ne=a(34),re=a.n(ne),oe=a(135),se=a.n(oe),le=function(e){for(var t=Math.ceil(e.totalItemsCount/e.pageSize),a=[],o=1;o<=t;o++)a.push(o);var s=Object(n.useState)(1),l=Object(ae.a)(s,2),c=l[0],i=l[1],u=Math.ceil(t/30),m=30*(c-1)+1,p=30*c;return r.a.createElement("div",{className:re.a.paginator},c>1&&r.a.createElement("svg",{className:"".concat(re.a.prevBtn," ").concat(re.a.paginButtons),onClick:function(){i(c-1)},viewBox:"0 0 512 512"},r.a.createElement("path",{d:"M256,0C114.615,0,0,114.615,0,256s114.615,256,256,256s256-114.615,256-256S397.385,0,256,0z M256,480 C132.288,480,32,379.712,32,256S132.288,32,256,32s224,100.288,224,224S379.712,480,256,480z"}),r.a.createElement("path",{d:"M292.64,116.8l-128,128c-6.204,6.241-6.204,16.319,0,22.56l128,128l22.56-22.72L198.56,256L315.2,139.36L292.64,116.8z"})),r.a.createElement("div",{className:re.a.pages},a.filter((function(e){return e>=m&&e<=p})).map((function(t){return r.a.createElement("button",{className:se()(Object(te.a)({},re.a.selectedPage,e.currentPage===t),re.a.pageNumber),onClick:function(a){e.onPageChanged(t)}},t)}))),u>c&&r.a.createElement("svg",{className:"".concat(re.a.nextBtn," ").concat(re.a.paginButtons),onClick:function(){i(c+1)},viewBox:"0 0 384.97 384.97"},r.a.createElement("path",{d:"M192.485,0C86.173,0,0,86.173,0,192.485c0,106.3,86.173,192.485,192.485,192.485c106.3,0,192.485-86.185,192.485-192.485 C384.97,86.173,298.785,0,192.485,0z M192.485,360.909c-92.874,0-168.424-75.55-168.424-168.424S99.611,23.688,192.485,23.688 s168.424,75.923,168.424,168.797S285.359,360.909,192.485,360.909z"}),r.a.createElement("path",{d:"M166.114,99.503c-4.704-4.74-12.319-4.74-17.011,0c-4.704,4.752-4.704,12.439,0,17.191l74.528,75.61l-74.54,75.61 c-4.704,4.74-4.704,12.439,0,17.191c4.704,4.74,12.319,4.74,17.011,0l83.009-84.2c4.572-4.632,4.584-12.56,0-17.191 L166.114,99.503z"})))},ce=a(136),ie=a.n(ce),ue=function(e){return r.a.createElement("img",{src:ie.a})},me=function(e){return e.isFetching?r.a.createElement(ue,null):r.a.createElement("div",null,r.a.createElement(le,e),e.users.map((function(t){return r.a.createElement("div",{key:t.id,className:X.a.userProfileContainer},r.a.createElement("span",null,r.a.createElement(f.b,{to:"/profile/"+t.id},r.a.createElement("img",{src:null!=t.photos.small?t.photos.small:ee.a,className:X.a.userPhoto}))),r.a.createElement("span",{className:X.a.description},r.a.createElement(f.b,{to:"/profile/"+t.id,className:X.a.name},t.name),r.a.createElement("div",{className:X.a.userInfo},t.status)),r.a.createElement("span",{className:X.a.followUnfollowButton},t.followed?r.a.createElement("button",{disabled:e.followButtonDisabled.some((function(e){return e===t.id})),onClick:function(){e.unfollow(t.id)},className:X.a.unfollowButton},r.a.createElement("span",{className:X.a.unfollowNotOnHover},"Followed"),r.a.createElement("span",{className:X.a.unfollowOnHover},"Unfollow")):r.a.createElement("button",{disabled:e.followButtonDisabled.some((function(e){return e===t.id})),onClick:function(){e.follow(t.id)},className:X.a.followButton},"Follow")))})))},pe=a(7),fe=a.n(pe),de=a(15),Ee=a(137),ge=a.n(Ee).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"f435f5f1-d0aa-4821-9e0c-6d8e13f8c1f3"}}),he={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return ge.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},follow:function(e){return ge.post("follow/".concat(e),{}).then((function(e){return e.data}))},unfollow:function(e){return ge.delete("follow/".concat(e)).then((function(e){return e.data}))},getProfile:function(e){return console.warn("Obsolete method. Please use profileAPI object"),ve.getProfile(e)}},ve={getProfile:function(e){return ge.get("profile/"+e)},setStatus:function(e){return ge.get("profile/status/".concat(e))},updateStatus:function(e){return ge.put("profile/status",{status:e})},savePhoto:function(e){var t=new FormData;return t.append("data",e),ge.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},saveProfile:function(e){return ge.put("profile/",e)}},be=function(){return ge.get("auth/me")},_e=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return ge.post("auth/login",{email:e,password:t,rememberMe:a,captcha:n})},Oe=function(){return ge.delete("auth/login")},we=function(){return ge.get("security/get-captcha-url")},Pe={users:[],pageSize:50,totalUsersCount:0,currentPage:1,isFetching:!1,followButtonDisabled:[]},Se=function(e){return{type:"FOLLOWED",userID:e}},ye=function(e){return{type:"UNFOLLOWED",userID:e}},je=function(e){return{type:"SET_USERS",users:e}},Ne=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},ke=function(e,t){return{type:"DISABLE_FOLLOW_BUTTON",isDisabled:e,userID:t}},Ae=function(){var e=Object(de.a)(fe.a.mark((function e(t,a,n,r){return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(ke(!0,a)),e.next=3,n(a);case 3:0===e.sent.resultCode&&t(r(a)),t(ke(!1,a));case 6:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOWED":return Object(A.a)({},e,{users:e.users.map((function(e){return e.id===t.userID?Object(A.a)({},e,{followed:!0}):e}))});case"UNFOLLOWED":return Object(A.a)({},e,{users:e.users.map((function(e){return e.id===t.userID?Object(A.a)({},e,{followed:!1}):e}))});case"SET_USERS":return Object(A.a)({},e,{users:t.users});case"SET_CURRENT_PAGE":return Object(A.a)({},e,{currentPage:t.currentPage});case"SET_TOTAL_USERS_COUNT":return Object(A.a)({},e,{totalUsersCount:t.count});case"TOGGLE_IS_FETCHING":return Object(A.a)({},e,{isFetching:t.isFetching});case"DISABLE_FOLLOW_BUTTON":return Object(A.a)({},e,{followButtonDisabled:t.isDisabled?[].concat(Object(k.a)(e.followButtonDisabled),[t.userID]):e.followButtonDisabled.filter((function(e){return e!=t.userID}))});default:return e}},Be=a(138),De=Object(Be.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),xe=function(e){return e.usersPage.pageSize},Te=function(e){return e.usersPage.totalUsersCount},Ie=function(e){return e.usersPage.currentPage},Ue=function(e){return e.usersPage.isFetching},Fe=function(e){return e.usersPage.followButtonDisabled},Le=function(e){return e.auth.isAuth},Me=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onPageChanged=function(t){e.props.setCurrentPage(t),e.props.requestUsers(t,e.props.pageSize)},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.requestUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return this.props.isFetching?r.a.createElement(ue,null):r.a.createElement(me,{users:this.props.users,totalItemsCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,follow:this.props.follow,unfollow:this.props.unfollow,followButtonDisabled:this.props.followButtonDisabled,disableFollowButton:this.props.disableFollowButton,isFetching:this.props.isFetching,isAuth:this.props.isAuth})}}]),a}(r.a.Component),Re=Object(Z.d)(Object(d.b)((function(e){return{users:De(e),pageSize:xe(e),totalUsersCount:Te(e),currentPage:Ie(e),isFetching:Ue(e),followButtonDisabled:Fe(e),isAuth:Le(e)}}),{follow:function(e){return function(){var t=Object(de.a)(fe.a.mark((function t(a){return fe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Ae(a,e,he.follow.bind(he),Se);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(de.a)(fe.a.mark((function t(a){return fe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Ae(a,e,he.unfollow.bind(he),ye);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setCurrentPage:function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},disableFollowButton:ke,requestUsers:function(e,t){return function(){var a=Object(de.a)(fe.a.mark((function a(n){var r;return fe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(Ne(!0)),a.next=3,he.getUsers(e,t);case 3:r=a.sent,n(Ne(!1)),n(je(r.items)),n({type:"SET_TOTAL_USERS_COUNT",count:r.totalCount});case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}}),Y)(Me),He=a(9),ze=a.n(He),Je=a(26),Ge={posts:[{id:"1",post:"You can also edit the profile details and upload a new profile photo. These data is sent to server and will remain after the page reload. You are still free try it as many times as you want.",likesCount:"11"},{id:"2",post:"You can change profile status by a double click on the status. To save it just click with the cursor outside the status area.",likesCount:"2"},{id:"3",post:"Posts that you add get erased after a page reload, so you can add as many posts as you want.",likesCount:"8"},{id:"4",post:"The textarea has a validation and you can`t add an empty post or a post containing more than 30 symbols.",likesCount:"5"},{id:"5",post:"Hey, you can add new posts here!",likesCount:"3"}],profile:null,status:null,isFetching:!1},Ke=function(e){return{type:"SET_STATUS",status:e}},Ve=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},We=function(e){return function(){var t=Object(de.a)(fe.a.mark((function t(a){var n;return fe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(Ve(!0)),t.next=3,he.getProfile(e);case 3:n=t.sent,a({type:"SET_USER_PROFILE",profile:n.data}),a(Ve(!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":var a={id:3,post:t.newPostText,likesCount:0};return Object(A.a)({},e,{posts:[].concat(Object(k.a)(e.posts),[a])});case"DELETE_POST":return Object(A.a)({},e,{posts:e.posts.filter((function(e){return e.id!=t.postID}))});case"SET_USER_PROFILE":return Object(A.a)({},e,{profile:t.profile});case"SET_STATUS":return Object(A.a)({},e,{status:t.status});case"SAVE_PHOTO_SUCCESS":return Object(A.a)({},e,{profile:Object(A.a)({},e.profile,{photos:t.photos})});case"SAVE_PROFILE_SUCCESS":return Object(A.a)({},e,{profile:t.profile});case"TOGGLE_IS_FETCHING":return Object(A.a)({},e,{isFetching:t.isFetching});default:return e}},Ze=a(31),qe=a.n(Ze),Qe=function(e){return r.a.createElement("div",{className:qe.a.post},r.a.createElement("div",{className:qe.a.textAndAva},r.a.createElement(f.b,{to:"/profile/:userId?"},r.a.createElement("img",{className:qe.a.ava,src:e.profilePhoto})),r.a.createElement("div",{className:qe.a.likesCounter},e.likes," Likes")),r.a.createElement("p",null,e.message))},Xe=J(30),$e=Object(F.a)({form:"addNewPostForm "})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement(U.a,{name:"newPostText",component:R,validate:[z,Xe],className:qe.a.textarea,placeholder:"Enter your post"}),r.a.createElement("div",null,r.a.createElement("button",{className:qe.a.button},"Add a post")))})),et=function(e){var t=Object(k.a)(e.posts).reverse().map((function(t){return r.a.createElement(Qe,{profilePhoto:e.profilePhoto,message:t.post,likes:t.likesCount,key:t.id})}));return r.a.createElement("div",{className:qe.a.postsBlock},r.a.createElement("h3",null,"My posts"),r.a.createElement($e,{onSubmit:function(t){e.addPost(t.newPostText)}}),r.a.createElement("div",{className:qe.a.posts},t))},tt=Object(d.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText,profilePhoto:e.profilePage.profile.photos.small}}),(function(e){return{addPost:function(t){e(function(e){return{type:"ADD-POST",newPostText:e}}(t))}}}))(et),at=function(e){var t=Object(n.useState)(!1),a=Object(ae.a)(t,2),o=a[0],s=a[1],l=Object(n.useState)(e.status),c=Object(ae.a)(l,2),i=c[0],u=c[1];return r.a.createElement("div",{className:ze.a.status},!o&&e.isOwner&&r.a.createElement("div",null,r.a.createElement("span",{onDoubleClick:function(){s(!0)}},e.status||"No status")),!o&&!e.isOwner&&r.a.createElement("div",null,r.a.createElement("span",null,e.status||"No status")),o&&r.a.createElement("div",null,r.a.createElement("input",{className:ze.a.textarea,onChange:function(e){u(e.currentTarget.value)},autoFocus:!0,onBlur:function(){s(!1),e.updateStatus(i)},value:i})))},nt=function(e){var t=e.contactTitle,a=e.contactValue;return r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("b",null,t,":")," ",a))},rt=function(e){var t=e.profile,a=e.isOwner,o=e.status,s=e.updateStatus,l=Object(n.useState)(!1),c=Object(ae.a)(l,2),i=c[0],u=c[1];return r.a.createElement("div",null,r.a.createElement("div",{className:ze.a.name},t.fullName),r.a.createElement(at,{status:o,updateStatus:s,isOwner:a}),r.a.createElement("div",{className:ze.a.descriptionBlock},r.a.createElement("p",null,r.a.createElement("b",null,"Looking for a job:")," ",r.a.createElement("span",null,t.lookingForAJob?"yes":"no")),r.a.createElement("p",null,r.a.createElement("b",null,"My skills:")," ",r.a.createElement("span",null,t.lookingForAJobDescription)),r.a.createElement("p",null,r.a.createElement("b",null,"About me:")," ",r.a.createElement("span",null,t.aboutMe)),r.a.createElement("details",null,r.a.createElement("summary",{className:ze.a.collapsible,onClick:function(){u(!i)},type:"button"},i?r.a.createElement("span",{className:ze.a.hideContacts},"Hide contacts"):r.a.createElement("span",{className:ze.a.showContacts},"Show contacts")),r.a.createElement("div",{className:ze.a.content},r.a.createElement("b",null,"Contacts:")," ",r.a.createElement("span",null,Object.keys(t.contacts).map((function(e){return r.a.createElement(nt,{key:e,contactTitle:e,contactValue:t.contacts[e]})})))))))},ot=Object(F.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit,a=e.profile,n=e.error,o=e.onCancel;return r.a.createElement("form",{className:ze.a.editProfileForm,onSubmit:t},r.a.createElement("div",{className:ze.a.editProfile},r.a.createElement("div",{className:ze.a.editName},r.a.createElement("b",null,"Full name"),r.a.createElement(U.a,{name:"fullName",validate:z,placeholder:"Full Name",component:H})),r.a.createElement("div",null,r.a.createElement("b",null,"Looking for a job")," ",r.a.createElement(U.a,{name:"lookingForAJob",component:H,type:"checkbox"})),r.a.createElement("div",null,r.a.createElement("b",null,"My skills"),r.a.createElement(U.a,{name:"lookingForAJobDescription",component:R})),r.a.createElement("div",null,r.a.createElement("b",null,"About me"),r.a.createElement(U.a,{name:"aboutMe",component:R})),r.a.createElement("div",{className:ze.a.editContacts},n&&r.a.createElement("div",{className:M.a.loginFormError},n),r.a.createElement("b",null,"Contacts")," ",r.a.createElement("ul",null,Object.keys(a.contacts).map((function(e){return r.a.createElement("li",null,e,":",r.a.createElement(U.a,{name:"contacts."+e,component:H}))}))))),r.a.createElement("div",{className:ze.a.saveButton},r.a.createElement("button",null,"Save")),r.a.createElement("div",{className:ze.a.cancelButton},r.a.createElement("button",{onClick:o},"Cancel")))})),st=function(e){var t=Object(n.useState)(!1),a=Object(ae.a)(t,2),o=a[0],s=a[1];if(!e.profile||e.isFetching)return r.a.createElement(ue,null);return r.a.createElement("div",{className:ze.a.page},r.a.createElement("div",{className:ze.a.profilePage},r.a.createElement("div",{className:ze.a.profilePhoto},r.a.createElement("img",{src:e.profile.photos.large||ee.a}),e.isOwner&&r.a.createElement("div",null,r.a.createElement("label",{for:"file-upload",className:ze.a.fileUpload},"Upload new photo"),r.a.createElement("input",{type:"file",onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])},id:"file-upload"}))),r.a.createElement("div",{className:ze.a.profileInfo},o?r.a.createElement(ot,{initialValues:e.profile,profile:e.profile,status:e.status,updateStatus:e.updateStatus,onSubmit:function(t){e.saveProfile(t).then((function(){s(!1)}))},onCancel:function(e){s(!1)}}):r.a.createElement(rt,{profile:e.profile,isOwner:e.isOwner,status:e.status,updateStatus:e.updateStatus,activateEditMode:function(){s(!0)}})),e.isOwner&&!o&&r.a.createElement("div",null,r.a.createElement("button",{className:ze.a.editButton,onClick:function(){s(!0)}},"Edit page"))),e.isOwner&&r.a.createElement(tt,null))},lt=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorisedUserID),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.params.userId!=e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return r.a.createElement(st,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile,isFetching:this.props.isFetching})}}]),a}(r.a.Component),ct=Object(Z.d)(Object(d.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorisedUserID:e.auth.userID,isFetching:e.profilePage.isFetching}}),{getUserProfile:We,getStatus:function(e){return function(){var t=Object(de.a)(fe.a.mark((function t(a){var n;return fe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ve.setStatus(e);case 2:n=t.sent,a(Ke(n.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(de.a)(fe.a.mark((function t(a){return fe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ve.updateStatus(e);case 2:0===t.sent.data.resultCode&&a(Ke(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},savePhoto:function(e){return function(){var t=Object(de.a)(fe.a.mark((function t(a){var n;return fe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(Ve(!0)),t.next=3,ve.savePhoto(e);case 3:0===(n=t.sent).data.resultCode&&a({type:"SAVE_PHOTO_SUCCESS",photos:n.data.data.photos}),a(Ve(!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},saveProfile:function(e){return function(){var t=Object(de.a)(fe.a.mark((function t(a,n){var r,o;return fe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(Ve(!0)),r=n().auth.userID,t.next=4,ve.saveProfile(e);case 4:if(0!==(o=t.sent).data.resultCode){t.next=9;break}a(We(r)),t.next=12;break;case 9:return a(Object(Je.a)("edit-profile",{_error:o.data.messages[0]})),a(Ve(!1)),t.abrupt("return",Promise.reject(o.data.messages[0]));case 12:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}}),w.g,Y)(lt),it=a(96),ut=a.n(it),mt=a(139),pt=a.n(mt),ft=function(e){return r.a.createElement("header",{className:ut.a.header},r.a.createElement(f.b,{to:"/profile"},r.a.createElement("img",{src:pt.a})),r.a.createElement("div",{className:ut.a.loginBlock},e.isAuth?r.a.createElement("div",null,e.login," - ",r.a.createElement("button",{onClick:e.logout},"Logout")," "):r.a.createElement("button",null,r.a.createElement(f.b,{to:"/login"},"Login"))))},dt={userID:null,email:null,login:null,isAuth:!1,captchaUrl:null},Et=function(e,t,a,n){return{type:"auth/SET_AUTH_USER_DATA",payload:{userID:e,email:t,login:a,isAuth:n}}},gt=function(e){return{type:"auth/SET_CAPTCHA_URL",payload:{captchaUrl:e}}},ht=function(){return function(){var e=Object(de.a)(fe.a.mark((function e(t){var a,n,r,o,s;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be();case 2:0===(a=e.sent).data.resultCode&&(n=a.data.data,r=n.id,o=n.email,s=n.login,t(Et(r,o,s,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},vt=function(){return function(){var e=Object(de.a)(fe.a.mark((function e(t){var a,n;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we();case 2:a=e.sent,n=a.data.url,t(gt(n));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth/SET_AUTH_USER_DATA":case"auth/SET_CAPTCHA_URL":return Object(A.a)({},e,{},t.payload);default:return e}},_t=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(ft,this.props)}}]),a}(r.a.Component),Ot=Object(d.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(){var e=Object(de.a)(fe.a.mark((function e(t){return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe();case 2:0===e.sent.data.resultCode&&t(Et(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(_t),wt=a(33),Pt=a.n(wt),St=Object(F.a)({form:"login"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit,className:Pt.a.loginForm},r.a.createElement("div",null,r.a.createElement(U.a,{name:"email",className:Pt.a.loginName,validate:z,placeholder:"Email",component:H})),r.a.createElement("div",null,r.a.createElement(U.a,{name:"password",className:Pt.a.loginName,type:"password",validate:z,placeholder:"Password",component:H})),r.a.createElement("div",{className:Pt.a.rememberMe},r.a.createElement(U.a,{className:Pt.a.checkbox,name:"rememberMe",component:H,type:"checkbox"}),r.a.createElement("span",null,"Remember me")),e.captchaUrl&&r.a.createElement("img",{src:e.captchaUrl}),e.captchaUrl&&r.a.createElement("div",null,r.a.createElement(U.a,{name:"captcha",type:"captcha",validate:z,placeholder:"Enter the symbols",component:H})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"Login")),e.error&&r.a.createElement("div",{className:M.a.loginFormError},e.error))})),yt=Object(d.b)((function(e){return{isAuth:e.auth.isAuth,captchaUrl:e.auth.captchaUrl}}),{login:function(e,t,a,n){return function(){var r=Object(de.a)(fe.a.mark((function r(o){var s,l;return fe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,_e(e,t,a,n);case 2:0===(s=r.sent).data.resultCode?o(ht()):(10===s.data.resultCode&&o(vt()),l=s.data.messages.length>0?s.data.messages[0]:"Error",o(Object(Je.a)("login",{_error:l})));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}})((function(e){return e.isAuth?r.a.createElement(w.a,{to:"/profile"}):r.a.createElement("div",{className:Pt.a.loginBlock},r.a.createElement("h1",null,"Login"),r.a.createElement(St,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe,t.captcha)},captchaUrl:e.captchaUrl}),r.a.createElement("div",{className:Pt.a.loginDetails},r.a.createElement("p",null,r.a.createElement("b",null,"Email:")," auutt23@gmail.com"),r.a.createElement("p",null,r.a.createElement("b",null,"Password:")," FaFdhj338shs")))})),jt={initialised:!1},Nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALISED":return Object(A.a)({},e,{initialised:!0});default:return e}},kt={friends:[{id:"1",name:"Anton",ava:"https://vokrug-tv.ru/pic/person/4/5/9/5/4595cbf1bb37fdc619ee8c0d04d05dd7.jpg"},{id:"2",name:"Dima",ava:"https://cdn.iz.ru/sites/default/files/styles/900x506/public/article-2017-11/RIAN_3173477.HR_.ru_1.jpg?itok=T8jXYstr"},{id:"3",name:"Charlie",ava:"https://premierliga.ru/netcat_files/3/1/Chorluka-Vedran-55790.jpg"}]},At=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt;arguments.length>1&&arguments[1];return e},Ct=a(140),Bt=a(130),Dt=Object(Z.c)({profilePage:Ye,messagesPage:B,navbar:At,usersPage:Ce,auth:bt,form:Bt.a,app:Nt}),xt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Z.d,Tt=Object(Z.e)(Dt,xt(Object(Z.a)(Ct.a))),It=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.initialiseApp()}},{key:"render",value:function(){return this.props.initialised?r.a.createElement("div",{className:"app-wrapper"},r.a.createElement(Ot,null),r.a.createElement(v,null),r.a.createElement("div",{className:"app-wrapper-content"},r.a.createElement(w.d,null,r.a.createElement(w.b,{exact:!0,path:"/"},r.a.createElement(w.a,{to:"/profile"})),r.a.createElement(w.b,{path:"/profile/:userId?",render:function(){return r.a.createElement(ct,null)}}),r.a.createElement(w.b,{path:"/messages",render:function(){return r.a.createElement(q,null)}}),r.a.createElement(w.b,{path:"/news",render:function(){return r.a.createElement(O,null)}}),r.a.createElement(w.b,{path:"/music",render:function(){return r.a.createElement(P,null)}}),r.a.createElement(w.b,{path:"/settings",render:function(){return r.a.createElement(j,null)}}),r.a.createElement(w.b,{path:"/friends",render:function(){return r.a.createElement(N,null)}}),r.a.createElement(w.b,{path:"/users",render:function(){return r.a.createElement(Re,null)}}),r.a.createElement(w.b,{path:"/login",render:function(){return r.a.createElement(yt,null)}}),r.a.createElement(w.b,{path:"*",render:function(){return r.a.createElement("div",null,"404 NOT FOUND")}})))):r.a.createElement(ue,null)}}]),a}(r.a.Component),Ut=Object(Z.d)(Object(w.g)(Object(d.b)((function(e){return{initialised:e.app.initialised}}),{initialiseApp:function(){return function(e){var t=e(ht());Promise.all([t]).then((function(){e({type:"INITIALISED"})}))}}})(It))),Ft=function(e){return r.a.createElement(f.a,null,r.a.createElement(d.a,{store:Tt},r.a.createElement(Ut,null)))};s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ft,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},31:function(e,t,a){e.exports={postsBlock:"myPosts_postsBlock__9aRiz",button:"myPosts_button__2Wbqq",posts:"myPosts_posts__2xQuF",post:"myPosts_post__3DOP8",textAndAva:"myPosts_textAndAva__1tKnt",ava:"myPosts_ava__1w7KZ",likesCounter:"myPosts_likesCounter__1eSsN"}},33:function(e,t,a){e.exports={loginBlock:"login_loginBlock__2Gvrs",loginName:"login_loginName__qScZK",rememberMe:"login_rememberMe__lJ9SY",checkbox:"login_checkbox__Z0uto",loginDetails:"login_loginDetails__38Blw"}},34:function(e,t,a){e.exports={paginator:"paginator_paginator__19aej",pages:"paginator_pages__1iImD",paginButtons:"paginator_paginButtons__1g6RD",prevBtn:"paginator_prevBtn__1UDMW",nextBtn:"paginator_nextBtn__2CxG8",pageNumber:"paginator_pageNumber__1InlL",selectedPage:"paginator_selectedPage__2HpBs"}},43:function(e,t,a){e.exports={error:"formsControls_error__3EjPo",loginFormError:"formsControls_loginFormError__1tKfd"}},72:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAP1BMVEXx8PCqqqmnp6bPz8708/Otrazu7e3b2trr6uqkpKPV1NTi4eG1tLSxsLDl5OS9vLzCwsHIx8e+vr3MzMvZ19gaUtbVAAAFMElEQVR4nO2d27qbIBBGRUfxfEjy/s9aiLutuzZR4TcM7lmXucr6gBkYEJJEEARBEARBEARBEARBEARBEARBEOKD/hL6r+AxUmWj6zqz1LVuyktpGhl9H9ouVyq1KJV37XDXF5GkpKyH2esb9qehLpPYJSnRU/ev3MKym3TUjqZ3DvlLv1kyH3S8nbVo2uq939Oxapsi9F91gvpp0+43Ux9hM5J+Pf7W7djp2BSpHPf7PR3HMipH6ttjgkaxjamnUnNY0Co20ShSrY4LGkVVR6JI2kFvJo54Y4Kos2EUIZWa3FnQTMkjGIvlgTS4Ju3K0AKbHMyDK8UxtMAWdz9Bo3gPrfAWv0E4w3sokkOmXzViy9iQMn9Bo5jxVezdM+GSrg8t8hJIE9pGDC3yit4/zMzkTBuRvDPFb9I7z5FIqCY0jcjSkB6oJjSN+OCoSDeg4Y2jIShVzHBMGGZhj4Tjcn/CdVLTTafQOmvKASio1MBvndhDBZViNxBJIzup6absKjaYZcXCkN0CA5kNn4bsMiK1UEGl2K2DCZnvLR07Q7CgUuwMscPQDER2hhXYsBLDT/MDDK8/Dq9vCBZkmC1wZagZdsWoHzBrwy6AzRKYneH11xbQMo0t1LAzvP4K+PJVjKQHG7KrROG21mYYbrCV2ITY8quXFtB0kd4YHoy+fFUfmy74JQubLpChJueXLH7A/mFSIINpyzDQJOR5KnFJOjLspAnVQEOOW8Am5+PKbRW/fG+5/Hka4EDkOQyRCyiGS6eZEpUR2R5nL0DdNB05ZkML7NAQz1xhuf4Z4WSAnPMeQmu8BjOtYTqhmcHszzAWhCR9run+iwbQhE1oibf4p0S+yXAGkBI5xxmLd9mUYaH0O74Jg3Wq+MJvlZiH/vvb+NVNOdZJV3iNRPaj8IlPOK1D//ldeBROWZZJ11DjOhJT1p8ALyDHRVTK7oTJSxy/6M55z0i/kTkZsv049j+UDv00Zfgh0GuoOV7hr2IJMzPHZzZRzGaWHD24wPJownsOVhY5VxBfQMcKGnENwhk6kjJiG4Rf7D5hw/H0zD72nhtmXOTe4PKGu9fCcax7/0OzN2F0EU25l9Bjp6BSLK/B2MHlY+mBWU2EM5rk2OQ7umn3k2K3nyW6ebcRPLQITof4FO+HmlAp3pcJrnHYZYtgS2ZJ5lDFiKkQVey/q3zJFMtYJOe9mTaKO72pzJxugrakKovAUXudi0oHHVrgPdSPG689bCrmI9+72aloxh2vPWw6VmNTcJSkQo/OA/AfRzVqdo5E2dZrJIcc8yHj9HKJ7Z6g5ltIKjadlfr6tnoJCOKY3urwUYeonzp4+/1xVN3Uh+ytVPR1B4iebyWrru4D9VYbPIHB5Y1kHiS0UnJvP+I3O7b3zz58ZYPnKcHljWT6wdBKxePTfl+Oj484Eun2tOC54aja818wM+3n9UKHt2R3djtq8DU0Do63E9dXlHwmPWwo5uNZcbWoGfhZ0rw+o6JD5RjabMEJr7RRD/lqC0U6oOfkjg+NnQf8CbP9m52f4wH0w97qgQJ4O4jHU3HnAlMsObagJUed4QBe6YEF9YQZ9lkHLJDvM8CXeGFBnDVCXsqCB/GpG/zqVSyAW1AczqR/ksr7wBj61k40/reAQu+3OgPvj8Ggd5Sdge+BMZ4z0iW+s1PwK05n4Jkv0Jfn4vE99CeG4RFDMRTD8IihGP4AQ66FxL/4lhQpUylnAN9mks44gygKE2/8BQVBEARBEARBEARBEARBEARBEARhJ78AIwhTb1cHN38AAAAASUVORK5CYII="},73:function(e,t,a){e.exports={imageItem:"navFriends_imageItem__3LJKG",profile:"navFriends_profile__32vZk",friendsProfiles:"navFriends_friendsProfiles__q-ag9"}},9:function(e,t,a){e.exports={profilePage:"profile_profilePage__12p6K",subtitle:"profile_subtitle__3jSqd",profilePhoto:"profile_profilePhoto__1EU9I",fileUpload:"profile_fileUpload__Lr3Ca",profileInfo:"profile_profileInfo__14Mlr",name:"profile_name__3H8Dj",textarea:"profile_textarea__30Rye",status:"profile_status__1wlxz",descriptionBlock:"profile_descriptionBlock__fitpg",editButton:"profile_editButton__Ni7Xc",editProfileForm:"profile_editProfileForm__1rymp",editProfile:"profile_editProfile__3adMg",editContacts:"profile_editContacts__1aH-B",cancelButton:"profile_cancelButton__N57pw",saveButton:"profile_saveButton__16B1z",collapsible:"profile_collapsible__pkb3k",active:"profile_active__36VvY",content:"profile_content__1OHeH"}},96:function(e,t,a){e.exports={header:"header_header__v9FKw",loginBlock:"header_loginBlock__39tD3",username:"header_username__1yRzT"}},98:function(e,t,a){}},[[166,1,2]]]);
//# sourceMappingURL=main.76e4ad70.chunk.js.map